
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>在OpenShift中使用GlusterFS做持久化存储 · Kubernetes</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="ZB">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-image-captions/image-captions.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-ghcolors.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-lightbox/lightbox.min.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-alerts/style.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="glusterd-2.0.html" />
    
    
    <link rel="prev" href="using-heketi-gluster-for-persistent-storage.html" />
    

    
        <link rel="shortcut icon" href='../favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../favicon.ico' type="image/x-icon">
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"k8sz/kubernetes-book","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    
    
    

    

    
        
        <li class="header">前言</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">概念与原理</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../concepts/">
            
                <a href="../concepts/">
            
                    
                        <b>2.1.</b>
                    
                    Kubernetes架构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../concepts/concepts.html">
            
                <a href="../concepts/concepts.html">
            
                    
                        <b>2.1.1.</b>
                    
                    设计理念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../concepts/etcd.html">
            
                <a href="../concepts/etcd.html">
            
                    
                        <b>2.1.2.</b>
                    
                    Etcd解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../concepts/open-interfaces.html">
            
                <a href="../concepts/open-interfaces.html">
            
                    
                        <b>2.1.3.</b>
                    
                    开放接口
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.3.1" data-path="../concepts/cri.html">
            
                <a href="../concepts/cri.html">
            
                    
                        <b>2.1.3.1.</b>
                    
                    CRI - Container Runtime Interface（容器运行时接口）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.2" data-path="../concepts/cni.html">
            
                <a href="../concepts/cni.html">
            
                    
                        <b>2.1.3.2.</b>
                    
                    CNI - Container Network Interface（容器网络接口）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3.3" data-path="../concepts/csi.html">
            
                <a href="../concepts/csi.html">
            
                    
                        <b>2.1.3.3.</b>
                    
                    CSI - Container Storage Interface（容器存储接口）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../concepts/networking.html">
            
                <a href="../concepts/networking.html">
            
                    
                        <b>2.2.</b>
                    
                    Kubernetes中的网络
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../concepts/flannel.html">
            
                <a href="../concepts/flannel.html">
            
                    
                        <b>2.2.1.</b>
                    
                    Kubernetes中的网络解析——以flannel为例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../concepts/calico.html">
            
                <a href="../concepts/calico.html">
            
                    
                        <b>2.2.2.</b>
                    
                    Kubernetes中的网络解析——以calico为例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../concepts/cilium.html">
            
                <a href="../concepts/cilium.html">
            
                    
                        <b>2.2.3.</b>
                    
                    具备API感知的网络和安全性管理开源软件Cilium
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.3.1" data-path="../concepts/cilium-concepts.html">
            
                <a href="../concepts/cilium-concepts.html">
            
                    
                        <b>2.2.3.1.</b>
                    
                    Cilium架构设计与概念解析
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../concepts/objects.html">
            
                <a href="../concepts/objects.html">
            
                    
                        <b>2.3.</b>
                    
                    资源对象与基本概念解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../concepts/pod-state-and-lifecycle.html">
            
                <a href="../concepts/pod-state-and-lifecycle.html">
            
                    
                        <b>2.4.</b>
                    
                    Pod状态与生命周期管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../concepts/pod-overview.html">
            
                <a href="../concepts/pod-overview.html">
            
                    
                        <b>2.4.1.</b>
                    
                    Pod概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../concepts/pod.html">
            
                <a href="../concepts/pod.html">
            
                    
                        <b>2.4.2.</b>
                    
                    Pod解析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../concepts/init-containers.html">
            
                <a href="../concepts/init-containers.html">
            
                    
                        <b>2.4.3.</b>
                    
                    Init容器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.4" data-path="../concepts/pause-container.html">
            
                <a href="../concepts/pause-container.html">
            
                    
                        <b>2.4.4.</b>
                    
                    Pause容器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.5" data-path="../concepts/pod-security-policy.html">
            
                <a href="../concepts/pod-security-policy.html">
            
                    
                        <b>2.4.5.</b>
                    
                    Pod安全策略
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.6" data-path="../concepts/pod-lifecycle.html">
            
                <a href="../concepts/pod-lifecycle.html">
            
                    
                        <b>2.4.6.</b>
                    
                    Pod的生命周期
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.7" data-path="../concepts/pod-hook.html">
            
                <a href="../concepts/pod-hook.html">
            
                    
                        <b>2.4.7.</b>
                    
                    Pod Hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.8" data-path="../concepts/pod-preset.html">
            
                <a href="../concepts/pod-preset.html">
            
                    
                        <b>2.4.8.</b>
                    
                    Pod Preset
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.9" data-path="../concepts/pod-disruption-budget.html">
            
                <a href="../concepts/pod-disruption-budget.html">
            
                    
                        <b>2.4.9.</b>
                    
                    Pod中断与PDB（Pod中断预算）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../concepts/cluster.html">
            
                <a href="../concepts/cluster.html">
            
                    
                        <b>2.5.</b>
                    
                    集群资源管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="../concepts/node.html">
            
                <a href="../concepts/node.html">
            
                    
                        <b>2.5.1.</b>
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="../concepts/namespace.html">
            
                <a href="../concepts/namespace.html">
            
                    
                        <b>2.5.2.</b>
                    
                    Namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.3" data-path="../concepts/label.html">
            
                <a href="../concepts/label.html">
            
                    
                        <b>2.5.3.</b>
                    
                    Label
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.4" data-path="../concepts/annotation.html">
            
                <a href="../concepts/annotation.html">
            
                    
                        <b>2.5.4.</b>
                    
                    Annotation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.5" data-path="../concepts/taint-and-toleration.html">
            
                <a href="../concepts/taint-and-toleration.html">
            
                    
                        <b>2.5.5.</b>
                    
                    Taint和Toleration（污点和容忍）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.6" data-path="../concepts/garbage-collection.html">
            
                <a href="../concepts/garbage-collection.html">
            
                    
                        <b>2.5.6.</b>
                    
                    垃圾收集
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../concepts/controllers.html">
            
                <a href="../concepts/controllers.html">
            
                    
                        <b>2.6.</b>
                    
                    控制器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="../concepts/deployment.html">
            
                <a href="../concepts/deployment.html">
            
                    
                        <b>2.6.1.</b>
                    
                    Deployment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="../concepts/statefulset.html">
            
                <a href="../concepts/statefulset.html">
            
                    
                        <b>2.6.2.</b>
                    
                    StatefulSet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="../concepts/daemonset.html">
            
                <a href="../concepts/daemonset.html">
            
                    
                        <b>2.6.3.</b>
                    
                    DaemonSet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.4" data-path="../concepts/replicaset.html">
            
                <a href="../concepts/replicaset.html">
            
                    
                        <b>2.6.4.</b>
                    
                    ReplicationController和ReplicaSet
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.5" data-path="../concepts/job.html">
            
                <a href="../concepts/job.html">
            
                    
                        <b>2.6.5.</b>
                    
                    Job
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.6" data-path="../concepts/cronjob.html">
            
                <a href="../concepts/cronjob.html">
            
                    
                        <b>2.6.6.</b>
                    
                    CronJob
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.7" data-path="../concepts/horizontal-pod-autoscaling.html">
            
                <a href="../concepts/horizontal-pod-autoscaling.html">
            
                    
                        <b>2.6.7.</b>
                    
                    Horizontal Pod Autoscaling
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.7.1" data-path="../concepts/custom-metrics-hpa.html">
            
                <a href="../concepts/custom-metrics-hpa.html">
            
                    
                        <b>2.6.7.1.</b>
                    
                    自定义指标HPA
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6.8" data-path="../concepts/admission-controller.html">
            
                <a href="../concepts/admission-controller.html">
            
                    
                        <b>2.6.8.</b>
                    
                    准入控制器（Admission Controller）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../concepts/service-discovery.html">
            
                <a href="../concepts/service-discovery.html">
            
                    
                        <b>2.7.</b>
                    
                    服务发现
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../concepts/service.html">
            
                <a href="../concepts/service.html">
            
                    
                        <b>2.7.1.</b>
                    
                    Service
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.2" data-path="../concepts/ingress.html">
            
                <a href="../concepts/ingress.html">
            
                    
                        <b>2.7.2.</b>
                    
                    Ingress
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.2.1" data-path="../concepts/traefik-ingress-controller.html">
            
                <a href="../concepts/traefik-ingress-controller.html">
            
                    
                        <b>2.7.2.1.</b>
                    
                    Traefik Ingress Controller
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../concepts/authentication-and-permission.html">
            
                <a href="../concepts/authentication-and-permission.html">
            
                    
                        <b>2.8.</b>
                    
                    身份与权限控制
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="../concepts/serviceaccount.html">
            
                <a href="../concepts/serviceaccount.html">
            
                    
                        <b>2.8.1.</b>
                    
                    ServiceAccount
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.2" data-path="../concepts/rbac.html">
            
                <a href="../concepts/rbac.html">
            
                    
                        <b>2.8.2.</b>
                    
                    RBAC——基于角色的访问控制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.3" data-path="../concepts/network-policy.html">
            
                <a href="../concepts/network-policy.html">
            
                    
                        <b>2.8.3.</b>
                    
                    NetworkPolicy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../concepts/storage.html">
            
                <a href="../concepts/storage.html">
            
                    
                        <b>2.9.</b>
                    
                    存储
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.1" data-path="../concepts/secret.html">
            
                <a href="../concepts/secret.html">
            
                    
                        <b>2.9.1.</b>
                    
                    Secret
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.2" data-path="../concepts/configmap.html">
            
                <a href="../concepts/configmap.html">
            
                    
                        <b>2.9.2.</b>
                    
                    ConfigMap
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.2.1" data-path="../concepts/configmap-hot-update.html">
            
                <a href="../concepts/configmap-hot-update.html">
            
                    
                        <b>2.9.2.1.</b>
                    
                    ConfigMap的热更新
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9.3" data-path="../concepts/volume.html">
            
                <a href="../concepts/volume.html">
            
                    
                        <b>2.9.3.</b>
                    
                    Volume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.4" data-path="../concepts/persistent-volume.html">
            
                <a href="../concepts/persistent-volume.html">
            
                    
                        <b>2.9.4.</b>
                    
                    Persistent Volume（持久化卷）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.5" data-path="../concepts/storageclass.html">
            
                <a href="../concepts/storageclass.html">
            
                    
                        <b>2.9.5.</b>
                    
                    Storage Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.6" data-path="../concepts/local-persistent-storage.html">
            
                <a href="../concepts/local-persistent-storage.html">
            
                    
                        <b>2.9.6.</b>
                    
                    本地持久化存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="../concepts/extension.html">
            
                <a href="../concepts/extension.html">
            
                    
                        <b>2.10.</b>
                    
                    集群扩展
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="../concepts/custom-resource.html">
            
                <a href="../concepts/custom-resource.html">
            
                    
                        <b>2.10.1.</b>
                    
                    使用自定义资源扩展API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.2" data-path="../concepts/crd.html">
            
                <a href="../concepts/crd.html">
            
                    
                        <b>2.10.2.</b>
                    
                    使用CRD扩展Kubernetes API
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.3" data-path="../concepts/aggregated-api-server.html">
            
                <a href="../concepts/aggregated-api-server.html">
            
                    
                        <b>2.10.3.</b>
                    
                    Aggregated API Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.4" data-path="../concepts/apiservice.html">
            
                <a href="../concepts/apiservice.html">
            
                    
                        <b>2.10.4.</b>
                    
                    APIService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.5" data-path="../concepts/service-catalog.html">
            
                <a href="../concepts/service-catalog.html">
            
                    
                        <b>2.10.5.</b>
                    
                    Service Catalog
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="../concepts/scheduling.html">
            
                <a href="../concepts/scheduling.html">
            
                    
                        <b>2.11.</b>
                    
                    资源调度
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.11.1" data-path="../concepts/qos.html">
            
                <a href="../concepts/qos.html">
            
                    
                        <b>2.11.1.</b>
                    
                    QoS（服务质量等级）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">用户指南</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../guide/">
            
                <a href="../guide/">
            
                    
                        <b>3.1.</b>
                    
                    用户指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../guide/resource-configuration.html">
            
                <a href="../guide/resource-configuration.html">
            
                    
                        <b>3.2.</b>
                    
                    资源对象配置
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../guide/configure-liveness-readiness-probes.html">
            
                <a href="../guide/configure-liveness-readiness-probes.html">
            
                    
                        <b>3.2.1.</b>
                    
                    配置Pod的liveness和readiness探针
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../guide/configure-pod-service-account.html">
            
                <a href="../guide/configure-pod-service-account.html">
            
                    
                        <b>3.2.2.</b>
                    
                    配置Pod的Service Account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../guide/secret-configuration.html">
            
                <a href="../guide/secret-configuration.html">
            
                    
                        <b>3.2.3.</b>
                    
                    Secret配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../guide/resource-quota-management.html">
            
                <a href="../guide/resource-quota-management.html">
            
                    
                        <b>3.2.4.</b>
                    
                    管理namespace中的资源配额
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../guide/command-usage.html">
            
                <a href="../guide/command-usage.html">
            
                    
                        <b>3.3.</b>
                    
                    命令使用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../guide/docker-cli-to-kubectl.html">
            
                <a href="../guide/docker-cli-to-kubectl.html">
            
                    
                        <b>3.3.1.</b>
                    
                    Docker用户过渡到kubectl命令行指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="../guide/using-kubectl.html">
            
                <a href="../guide/using-kubectl.html">
            
                    
                        <b>3.3.2.</b>
                    
                    kubectl命令概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="../guide/kubectl-cheatsheet.html">
            
                <a href="../guide/kubectl-cheatsheet.html">
            
                    
                        <b>3.3.3.</b>
                    
                    kubectl命令技巧大全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.4" data-path="../guide/using-etcdctl-to-access-kubernetes-data.html">
            
                <a href="../guide/using-etcdctl-to-access-kubernetes-data.html">
            
                    
                        <b>3.3.4.</b>
                    
                    使用etcdctl访问kubernetes数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../guide/cluster-security-management.html">
            
                <a href="../guide/cluster-security-management.html">
            
                    
                        <b>3.4.</b>
                    
                    集群安全性管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="../guide/managing-tls-in-a-cluster.html">
            
                <a href="../guide/managing-tls-in-a-cluster.html">
            
                    
                        <b>3.4.1.</b>
                    
                    管理集群中的TLS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="../guide/kubelet-authentication-authorization.html">
            
                <a href="../guide/kubelet-authentication-authorization.html">
            
                    
                        <b>3.4.2.</b>
                    
                    kubelet的认证授权
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="../guide/tls-bootstrapping.html">
            
                <a href="../guide/tls-bootstrapping.html">
            
                    
                        <b>3.4.3.</b>
                    
                    TLS bootstrap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.4" data-path="../guide/kubectl-user-authentication-authorization.html">
            
                <a href="../guide/kubectl-user-authentication-authorization.html">
            
                    
                        <b>3.4.4.</b>
                    
                    创建用户认证授权的kubeconfig文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.5" data-path="../guide/ip-masq-agent.html">
            
                <a href="../guide/ip-masq-agent.html">
            
                    
                        <b>3.4.5.</b>
                    
                    IP伪装代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.6" data-path="../guide/auth-with-kubeconfig-or-token.html">
            
                <a href="../guide/auth-with-kubeconfig-or-token.html">
            
                    
                        <b>3.4.6.</b>
                    
                    使用kubeconfig或token进行用户身份认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.7" data-path="../guide/authentication.html">
            
                <a href="../guide/authentication.html">
            
                    
                        <b>3.4.7.</b>
                    
                    Kubernetes中的用户与身份认证授权
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.8" data-path="../guide/kubernetes-security-best-practice.html">
            
                <a href="../guide/kubernetes-security-best-practice.html">
            
                    
                        <b>3.4.8.</b>
                    
                    Kubernetes集群安全性配置最佳实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../guide/access-kubernetes-cluster.html">
            
                <a href="../guide/access-kubernetes-cluster.html">
            
                    
                        <b>3.5.</b>
                    
                    访问Kubernetes集群
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.5.1" data-path="../guide/access-cluster.html">
            
                <a href="../guide/access-cluster.html">
            
                    
                        <b>3.5.1.</b>
                    
                    访问集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.2" data-path="../guide/authenticate-across-clusters-kubeconfig.html">
            
                <a href="../guide/authenticate-across-clusters-kubeconfig.html">
            
                    
                        <b>3.5.2.</b>
                    
                    使用kubeconfig文件配置跨集群认证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.3" data-path="../guide/connecting-to-applications-port-forward.html">
            
                <a href="../guide/connecting-to-applications-port-forward.html">
            
                    
                        <b>3.5.3.</b>
                    
                    通过端口转发访问集群中的应用程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.4" data-path="../guide/service-access-application-cluster.html">
            
                <a href="../guide/service-access-application-cluster.html">
            
                    
                        <b>3.5.4.</b>
                    
                    使用service访问群集中的应用程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.5" data-path="../guide/accessing-kubernetes-pods-from-outside-of-the-cluster.html">
            
                <a href="../guide/accessing-kubernetes-pods-from-outside-of-the-cluster.html">
            
                    
                        <b>3.5.5.</b>
                    
                    从外部访问Kubernetes中的Pod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.6" data-path="../guide/cabin-mobile-dashboard-for-kubernetes.html">
            
                <a href="../guide/cabin-mobile-dashboard-for-kubernetes.html">
            
                    
                        <b>3.5.6.</b>
                    
                    Cabin - Kubernetes手机客户端
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.7" data-path="../guide/kubernetes-desktop-client.html">
            
                <a href="../guide/kubernetes-desktop-client.html">
            
                    
                        <b>3.5.7.</b>
                    
                    Kubernetic - Kubernetes桌面客户端
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5.8" data-path="../guide/kubernator-kubernetes-ui.html">
            
                <a href="../guide/kubernator-kubernetes-ui.html">
            
                    
                        <b>3.5.8.</b>
                    
                    Kubernator - 更底层的Kubernetes UI
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../guide/application-development-deployment-flow.html">
            
                <a href="../guide/application-development-deployment-flow.html">
            
                    
                        <b>3.6.</b>
                    
                    在Kubernetes中开发部署应用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="../guide/deploy-applications-in-kubernetes.html">
            
                <a href="../guide/deploy-applications-in-kubernetes.html">
            
                    
                        <b>3.6.1.</b>
                    
                    适用于kubernetes的应用开发部署流程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.2" data-path="../guide/migrating-hadoop-yarn-to-kubernetes.html">
            
                <a href="../guide/migrating-hadoop-yarn-to-kubernetes.html">
            
                    
                        <b>3.6.2.</b>
                    
                    迁移传统应用到Kubernetes中——以Hadoop YARN为例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.3" data-path="../guide/using-statefulset.html">
            
                <a href="../guide/using-statefulset.html">
            
                    
                        <b>3.6.3.</b>
                    
                    使用StatefulSet部署用状态应用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">最佳实践</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="./">
            
                <a href="./">
            
                    
                        <b>4.1.</b>
                    
                    最佳实践概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="install-kubernetes-on-centos.html">
            
                <a href="install-kubernetes-on-centos.html">
            
                    
                        <b>4.2.</b>
                    
                    在CentOS上部署Kubernetes集群
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="create-tls-and-secret-key.html">
            
                <a href="create-tls-and-secret-key.html">
            
                    
                        <b>4.2.1.</b>
                    
                    创建TLS证书和秘钥
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="create-kubeconfig.html">
            
                <a href="create-kubeconfig.html">
            
                    
                        <b>4.2.2.</b>
                    
                    创建kubeconfig文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="etcd-cluster-installation.html">
            
                <a href="etcd-cluster-installation.html">
            
                    
                        <b>4.2.3.</b>
                    
                    创建高可用etcd集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="kubectl-installation.html">
            
                <a href="kubectl-installation.html">
            
                    
                        <b>4.2.4.</b>
                    
                    安装kubectl命令行工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.5" data-path="master-installation.html">
            
                <a href="master-installation.html">
            
                    
                        <b>4.2.5.</b>
                    
                    部署master节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.6" data-path="flannel-installation.html">
            
                <a href="flannel-installation.html">
            
                    
                        <b>4.2.6.</b>
                    
                    安装flannel网络插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.7" data-path="node-installation.html">
            
                <a href="node-installation.html">
            
                    
                        <b>4.2.7.</b>
                    
                    部署node节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.8" data-path="kubedns-addon-installation.html">
            
                <a href="kubedns-addon-installation.html">
            
                    
                        <b>4.2.8.</b>
                    
                    安装kubedns插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.9" data-path="dashboard-addon-installation.html">
            
                <a href="dashboard-addon-installation.html">
            
                    
                        <b>4.2.9.</b>
                    
                    安装dashboard插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.10" data-path="heapster-addon-installation.html">
            
                <a href="heapster-addon-installation.html">
            
                    
                        <b>4.2.10.</b>
                    
                    安装heapster插件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.11" data-path="efk-addon-installation.html">
            
                <a href="efk-addon-installation.html">
            
                    
                        <b>4.2.11.</b>
                    
                    安装EFK插件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="install-kubernetes-with-kubeadm.html">
            
                <a href="install-kubernetes-with-kubeadm.html">
            
                    
                        <b>4.3.</b>
                    
                    生产级的Kubernetes简化管理工具kubeadm
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="install-kubernetes-on-ubuntu-server-16.04-with-kubeadm.html">
            
                <a href="install-kubernetes-on-ubuntu-server-16.04-with-kubeadm.html">
            
                    
                        <b>4.3.1.</b>
                    
                    使用kubeadm在Ubuntu Server 16.04上快速构建测试集群
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="service-discovery-and-loadbalancing.html">
            
                <a href="service-discovery-and-loadbalancing.html">
            
                    
                        <b>4.4.</b>
                    
                    服务发现与负载均衡
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="traefik-ingress-installation.html">
            
                <a href="traefik-ingress-installation.html">
            
                    
                        <b>4.4.1.</b>
                    
                    安装Traefik ingress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.2" data-path="distributed-load-test.html">
            
                <a href="distributed-load-test.html">
            
                    
                        <b>4.4.2.</b>
                    
                    分布式负载测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.3" data-path="network-and-cluster-perfermance-test.html">
            
                <a href="network-and-cluster-perfermance-test.html">
            
                    
                        <b>4.4.3.</b>
                    
                    网络和集群性能测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.4" data-path="edge-node-configuration.html">
            
                <a href="edge-node-configuration.html">
            
                    
                        <b>4.4.4.</b>
                    
                    边缘节点配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.5" data-path="nginx-ingress-installation.html">
            
                <a href="nginx-ingress-installation.html">
            
                    
                        <b>4.4.5.</b>
                    
                    安装Nginx ingress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.6" data-path="dns-installation.html">
            
                <a href="dns-installation.html">
            
                    
                        <b>4.4.6.</b>
                    
                    安装配置DNS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.6.1" data-path="configuring-dns.html">
            
                <a href="configuring-dns.html">
            
                    
                        <b>4.4.6.1.</b>
                    
                    安装配置Kube-dns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.6.2" data-path="coredns.html">
            
                <a href="coredns.html">
            
                    
                        <b>4.4.6.2.</b>
                    
                    安装配置CoreDNS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="operation.html">
            
                <a href="operation.html">
            
                    
                        <b>4.5.</b>
                    
                    运维管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1" data-path="master-ha.html">
            
                <a href="master-ha.html">
            
                    
                        <b>4.5.1.</b>
                    
                    Master节点高可用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.2" data-path="service-rolling-update.html">
            
                <a href="service-rolling-update.html">
            
                    
                        <b>4.5.2.</b>
                    
                    服务滚动升级
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.3" data-path="app-log-collection.html">
            
                <a href="app-log-collection.html">
            
                    
                        <b>4.5.3.</b>
                    
                    应用日志收集
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.4" data-path="configuration-best-practice.html">
            
                <a href="configuration-best-practice.html">
            
                    
                        <b>4.5.4.</b>
                    
                    配置最佳实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.5" data-path="monitor.html">
            
                <a href="monitor.html">
            
                    
                        <b>4.5.5.</b>
                    
                    集群及应用监控
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.6" data-path="data-persistence-problem.html">
            
                <a href="data-persistence-problem.html">
            
                    
                        <b>4.5.6.</b>
                    
                    数据持久化问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.7" data-path="manage-compute-resources-container.html">
            
                <a href="manage-compute-resources-container.html">
            
                    
                        <b>4.5.7.</b>
                    
                    管理容器的计算资源
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5.8" data-path="federation.html">
            
                <a href="federation.html">
            
                    
                        <b>4.5.8.</b>
                    
                    集群联邦
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="storage.html">
            
                <a href="storage.html">
            
                    
                        <b>4.6.</b>
                    
                    存储管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.1" data-path="glusterfs.html">
            
                <a href="glusterfs.html">
            
                    
                        <b>4.6.1.</b>
                    
                    GlusterFS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.1.1" data-path="using-glusterfs-for-persistent-storage.html">
            
                <a href="using-glusterfs-for-persistent-storage.html">
            
                    
                        <b>4.6.1.1.</b>
                    
                    使用GlusterFS做持久化存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.1.2" data-path="using-heketi-gluster-for-persistent-storage.html">
            
                <a href="using-heketi-gluster-for-persistent-storage.html">
            
                    
                        <b>4.6.1.2.</b>
                    
                    使用Heketi作为Kubernetes的持久存储GlusterFS的external provisioner
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.6.1.3" data-path="storage-for-containers-using-glusterfs-with-openshift.html">
            
                <a href="storage-for-containers-using-glusterfs-with-openshift.html">
            
                    
                        <b>4.6.1.3.</b>
                    
                    在OpenShift中使用GlusterFS做持久化存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6.2" data-path="glusterd-2.0.html">
            
                <a href="glusterd-2.0.html">
            
                    
                        <b>4.6.2.</b>
                    
                    GlusterD-2.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.3" data-path="ceph.html">
            
                <a href="ceph.html">
            
                    
                        <b>4.6.3.</b>
                    
                    Ceph
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.3.1" data-path="ceph-helm-install-guide-zh.html">
            
                <a href="ceph-helm-install-guide-zh.html">
            
                    
                        <b>4.6.3.1.</b>
                    
                    用Helm托管安装Ceph集群并提供后端存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.3.2" data-path="using-ceph-for-persistent-storage.html">
            
                <a href="using-ceph-for-persistent-storage.html">
            
                    
                        <b>4.6.3.2.</b>
                    
                    使用Ceph做持久化存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.3.3" data-path="rbd-provisioner.html">
            
                <a href="rbd-provisioner.html">
            
                    
                        <b>4.6.3.3.</b>
                    
                    使用rbd-provisioner提供rbd持久化存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6.4" data-path="openebs.html">
            
                <a href="openebs.html">
            
                    
                        <b>4.6.4.</b>
                    
                    OpenEBS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.4.1" data-path="using-openebs-for-persistent-storage.html">
            
                <a href="using-openebs-for-persistent-storage.html">
            
                    
                        <b>4.6.4.1.</b>
                    
                    使用OpenEBS做持久化存储
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6.5" data-path="rook.html">
            
                <a href="rook.html">
            
                    
                        <b>4.6.5.</b>
                    
                    Rook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6.6" data-path="nfs.html">
            
                <a href="nfs.html">
            
                    
                        <b>4.6.6.</b>
                    
                    NFS
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.6.1" data-path="using-nfs-for-persistent-storage.html">
            
                <a href="using-nfs-for-persistent-storage.html">
            
                    
                        <b>4.6.6.1.</b>
                    
                    利用NFS动态提供Kubernetes后端存储卷
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="monitoring.html">
            
                <a href="monitoring.html">
            
                    
                        <b>4.7.</b>
                    
                    集群与应用监控
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.7.1" data-path="heapster.html">
            
                <a href="heapster.html">
            
                    
                        <b>4.7.1.</b>
                    
                    Heapster
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.7.1.1" data-path="using-heapster-to-get-object-metrics.html">
            
                <a href="using-heapster-to-get-object-metrics.html">
            
                    
                        <b>4.7.1.1.</b>
                    
                    使用Heapster获取集群和对象的metric数据
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.7.2" data-path="prometheus.html">
            
                <a href="prometheus.html">
            
                    
                        <b>4.7.2.</b>
                    
                    Prometheus
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.7.2.1" data-path="using-prometheus-to-monitor-kuberentes-cluster.html">
            
                <a href="using-prometheus-to-monitor-kuberentes-cluster.html">
            
                    
                        <b>4.7.2.1.</b>
                    
                    使用Prometheus监控kubernetes集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.2.2" data-path="promql.html">
            
                <a href="promql.html">
            
                    
                        <b>4.7.2.2.</b>
                    
                    Prometheus查询语言PromQL使用说明
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.7.3" data-path="vistio-visualize-your-istio-mesh.html">
            
                <a href="vistio-visualize-your-istio-mesh.html">
            
                    
                        <b>4.7.3.</b>
                    
                    使用Vistio监控Istio服务网格中的流量
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="distributed-tracing.html">
            
                <a href="distributed-tracing.html">
            
                    
                        <b>4.8.</b>
                    
                    分布式跟踪
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.8.1" data-path="opentracing.html">
            
                <a href="opentracing.html">
            
                    
                        <b>4.8.1.</b>
                    
                    OpenTracing
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="services-management-tool.html">
            
                <a href="services-management-tool.html">
            
                    
                        <b>4.9.</b>
                    
                    服务编排管理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.9.1" data-path="helm.html">
            
                <a href="helm.html">
            
                    
                        <b>4.9.1.</b>
                    
                    使用Helm管理Kubernetes应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.9.2" data-path="create-private-charts-repo.html">
            
                <a href="create-private-charts-repo.html">
            
                    
                        <b>4.9.2.</b>
                    
                    构建私有Chart仓库
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.10" data-path="ci-cd.html">
            
                <a href="ci-cd.html">
            
                    
                        <b>4.10.</b>
                    
                    持续集成与发布
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.10.1" data-path="jenkins-ci-cd.html">
            
                <a href="jenkins-ci-cd.html">
            
                    
                        <b>4.10.1.</b>
                    
                    使用Jenkins进行持续集成与发布
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.10.2" data-path="drone-ci-cd.html">
            
                <a href="drone-ci-cd.html">
            
                    
                        <b>4.10.2.</b>
                    
                    使用Drone进行持续集成与发布
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.11" data-path="update-and-upgrade.html">
            
                <a href="update-and-upgrade.html">
            
                    
                        <b>4.11.</b>
                    
                    更新与升级
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.11.1" data-path="manually-upgrade.html">
            
                <a href="manually-upgrade.html">
            
                    
                        <b>4.11.1.</b>
                    
                    手动升级Kubernetes集群
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.11.2" data-path="dashboard-upgrade.html">
            
                <a href="dashboard-upgrade.html">
            
                    
                        <b>4.11.2.</b>
                    
                    升级dashboard
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">开发指南</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../develop/">
            
                <a href="../develop/">
            
                    
                        <b>5.1.</b>
                    
                    开发指南概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../develop/sigs-and-working-group.html">
            
                <a href="../develop/sigs-and-working-group.html">
            
                    
                        <b>5.2.</b>
                    
                    SIG和工作组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../develop/developing-environment.html">
            
                <a href="../develop/developing-environment.html">
            
                    
                        <b>5.3.</b>
                    
                    开发环境搭建
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="../develop/using-vagrant-and-virtualbox-for-development.html">
            
                <a href="../develop/using-vagrant-and-virtualbox-for-development.html">
            
                    
                        <b>5.3.1.</b>
                    
                    本地分布式开发环境搭建（使用Vagrant和Virtualbox）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="../develop/testing.html">
            
                <a href="../develop/testing.html">
            
                    
                        <b>5.4.</b>
                    
                    单元测试和集成测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="../develop/client-go-sample.html">
            
                <a href="../develop/client-go-sample.html">
            
                    
                        <b>5.5.</b>
                    
                    client-go示例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../develop/operator.html">
            
                <a href="../develop/operator.html">
            
                    
                        <b>5.6.</b>
                    
                    Operator
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.6.1" data-path="../develop/operator-sdk.html">
            
                <a href="../develop/operator-sdk.html">
            
                    
                        <b>5.6.1.</b>
                    
                    operator-sdk
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.7" data-path="../develop/kubebuilder.html">
            
                <a href="../develop/kubebuilder.html">
            
                    
                        <b>5.7.</b>
                    
                    kubebuilder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="../develop/advance-developer.html">
            
                <a href="../develop/advance-developer.html">
            
                    
                        <b>5.8.</b>
                    
                    高级开发指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.9" data-path="../develop/contribute.html">
            
                <a href="../develop/contribute.html">
            
                    
                        <b>5.9.</b>
                    
                    社区贡献
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="../develop/minikube.html">
            
                <a href="../develop/minikube.html">
            
                    
                        <b>5.10.</b>
                    
                    Minikube
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">附录</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../appendix/">
            
                <a href="../appendix/">
            
                    
                        <b>6.1.</b>
                    
                    附录说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../appendix/debug-kubernetes-services.html">
            
                <a href="../appendix/debug-kubernetes-services.html">
            
                    
                        <b>6.2.</b>
                    
                    Kubernetes中的应用故障排查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../appendix/material-share.html">
            
                <a href="../appendix/material-share.html">
            
                    
                        <b>6.3.</b>
                    
                    Kubernetes相关资讯和情报链接
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../appendix/docker-best-practice.html">
            
                <a href="../appendix/docker-best-practice.html">
            
                    
                        <b>6.4.</b>
                    
                    Docker最佳实践
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../appendix/tricks.html">
            
                <a href="../appendix/tricks.html">
            
                    
                        <b>6.5.</b>
                    
                    使用技巧
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="../appendix/issues.html">
            
                <a href="../appendix/issues.html">
            
                    
                        <b>6.6.</b>
                    
                    问题记录
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >在OpenShift中使用GlusterFS做持久化存储</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <html><head></head><body><h1 id="&#x5728;openshift&#x4E2D;&#x4F7F;&#x7528;glusterfs&#x505A;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;">&#x5728;OpenShift&#x4E2D;&#x4F7F;&#x7528;GlusterFS&#x505A;&#x6301;&#x4E45;&#x5316;&#x5B58;&#x50A8;</h1>
<h3 id="&#x6982;&#x8FF0;">&#x6982;&#x8FF0;</h3>
<p>&#x672C;&#x6587;&#x7531;Daniel Messer&#xFF08;Technical Marketing Manager Storage @RedHat&#xFF09;&#x548C;Keith Tenzer&#xFF08;Solutions Architect @RedHat&#xFF09;&#x5171;&#x540C;&#x64B0;&#x5199;&#x3002;</p>
<ul>
<li><a href="https://keithtenzer.com/2017/03/07/storage-for-containers-overview-part-i/" target="_blank">Storage for Containers Overview &#x2013; Part I</a></li>
<li><a href="https://keithtenzer.com/2017/03/24/storage-for-containers-using-gluster-part-ii/" target="_blank">Storage for Containers using Gluster &#x2013; Part II</a></li>
<li><a href="https://keithtenzer.com/2017/03/29/storage-for-containers-using-container-native-storage-part-iii/" target="_blank">Storage for Containers using Container Native Storage &#x2013; Part III</a></li>
<li><a href="https://keithtenzer.com/2017/04/07/storage-for-containers-using-ceph-rbd-part-iv/" target="_blank">Storage for Containers using Ceph &#x2013; Part IV</a></li>
<li><a href="https://keithtenzer.com/2017/04/05/storage-for-containers-using-netapp-ontap-nas-part-v/" target="_blank">Storage for Containers using NetApp ONTAP NAS &#x2013; Part V</a></li>
<li><a href="https://keithtenzer.com/2017/04/05/storage-for-containers-using-netapp-solidfire-part-vi/" target="_blank">Storage for Containers using NetApp SolidFire &#x2013; Part VI</a></li>
</ul>
<h3 id="gluster&#x4F5C;&#x4E3A;container-ready-storagecrs">Gluster&#x4F5C;&#x4E3A;Container-Ready Storage(CRS)</h3>
<p>&#x5728;&#x672C;&#x6587;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4ECB;&#x7ECD;&#x5BB9;&#x5668;&#x5B58;&#x50A8;&#x7684;&#x9996;&#x9009;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x90E8;&#x7F72;&#x5B83;&#x3002; Kusternet&#x548C;OpenShift&#x652F;&#x6301;GlusterFS&#x5DF2;&#x7ECF;&#x6709;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E86;&#x3002; GlusterFS&#x7684;&#x9002;&#x7528;&#x6027;&#x5F88;&#x597D;&#xFF0C;&#x53EF;&#x7528;&#x4E8E;&#x6240;&#x6709;&#x7684;&#x90E8;&#x7F72;&#x573A;&#x666F;&#xFF1A;&#x88F8;&#x673A;&#x3001;&#x865A;&#x62DF;&#x673A;&#x3001;&#x5185;&#x90E8;&#x90E8;&#x7F72;&#x548C;&#x516C;&#x5171;&#x4E91;&#x3002; &#x5728;&#x5BB9;&#x5668;&#x4E2D;&#x8FD0;&#x884C;GlusterFS&#x7684;&#x65B0;&#x7279;&#x6027;&#x5C06;&#x5728;&#x672C;&#x7CFB;&#x5217;&#x540E;&#x9762;&#x8BA8;&#x8BBA;&#x3002;</p>
<p>GlusterFS&#x662F;&#x4E00;&#x4E2A;&#x5206;&#x5E03;&#x5F0F;&#x6587;&#x4EF6;&#x7CFB;&#x7EDF;&#xFF0C;&#x5185;&#x7F6E;&#x4E86;&#x539F;&#x751F;&#x534F;&#x8BAE;&#xFF08;GlusterFS&#xFF09;&#x548C;&#x5404;&#x79CD;&#x5176;&#x4ED6;&#x534F;&#x8BAE;&#xFF08;NFS&#xFF0C;SMB&#xFF0C;...&#xFF09;&#x3002; &#x4E3A;&#x4E86;&#x4E0E;OpenShift&#x96C6;&#x6210;&#xFF0C;&#x8282;&#x70B9;&#x5C06;&#x901A;&#x8FC7;FUSE&#x4F7F;&#x7528;&#x539F;&#x751F;&#x534F;&#x8BAE;&#xFF0C;&#x5C06;GlusterFS&#x5377;&#x6302;&#x5728;&#x5230;&#x8282;&#x70B9;&#x672C;&#x8EAB;&#x4E0A;&#xFF0C;&#x7136;&#x540E;&#x5C06;&#x5B83;&#x4EEC;&#x7ED1;&#x5B9A;&#x5230;&#x76EE;&#x6807;&#x5BB9;&#x5668;&#x4E2D;&#x3002; OpenShift / Kubernetes&#x5177;&#x6709;&#x5B9E;&#x73B0;&#x8BF7;&#x6C42;&#x3001;&#x91CA;&#x653E;&#x548C;&#x6302;&#x8F7D;&#x3001;&#x5378;&#x8F7D;GlusterFS&#x5377;&#x7684;&#x539F;&#x751F;&#x7A0B;&#x5E8F;&#x3002;</p>
<h3 id="crs&#x6982;&#x8FF0;">CRS&#x6982;&#x8FF0;</h3>
<p>&#x5728;&#x5B58;&#x50A8;&#x65B9;&#x9762;&#xFF0C;&#x6839;&#x636E;OpenShift / Kubernetes&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x7EC4;&#x4EF6;&#x7BA1;&#x7406;&#x96C6;&#x7FA4;&#xFF0C;&#x79F0;&#x4E3A;&#x201C;heketi&#x201D;&#x3002; &#x8FD9;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;GlusterFS&#x7684;REST API&#xFF0C;&#x5B83;&#x8FD8;&#x63D0;&#x4F9B;CLI&#x7248;&#x672C;&#x3002; &#x5728;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x5728;3&#x4E2A;GlusterFS&#x8282;&#x70B9;&#x4E2D;&#x90E8;&#x7F72;heketi&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x90E8;&#x7F72;GlusterFS&#x5B58;&#x50A8;&#x6C60;&#xFF0C;&#x5C06;&#x5176;&#x8FDE;&#x63A5;&#x5230;OpenShift&#xFF0C;&#x5E76;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x901A;&#x8FC7;PersistentVolumeClaims&#x4E3A;&#x5BB9;&#x5668;&#x914D;&#x7F6E;&#x5B58;&#x50A8;&#x3002; &#x6211;&#x4EEC;&#x5C06;&#x603B;&#x5171;&#x90E8;&#x7F72;4&#x53F0;&#x865A;&#x62DF;&#x673A;&#x3002; &#x4E00;&#x4E2A;&#x7528;&#x4E8E;OpenShift&#xFF08;&#x5B9E;&#x9A8C;&#x5BA4;&#x8BBE;&#x7F6E;&#xFF09;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;GlusterFS&#x3002;</p>
<p>&#x6CE8;&#x610F;&#xFF1A;&#x60A8;&#x7684;&#x7CFB;&#x7EDF;&#x5E94;&#x81F3;&#x5C11;&#x9700;&#x8981;&#x6709;&#x56DB;&#x6838;CPU&#xFF0C;16GB RAM&#x548C;20 GB&#x53EF;&#x7528;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x3002;</p>
<h3 id="&#x90E8;&#x7F72;openshift">&#x90E8;&#x7F72;OpenShift</h3>
<p>&#x9996;&#x5148;&#x4F60;&#x9700;&#x8981;&#x5148;&#x90E8;&#x7F72;OpenShift&#x3002;&#x6700;&#x6709;&#x6548;&#x7387;&#x7684;&#x65B9;&#x5F0F;&#x662F;&#x76F4;&#x63A5;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x90E8;&#x7F72;&#x4E00;&#x4E2A;All-in-One&#x73AF;&#x5883;&#xFF0C;&#x90E8;&#x7F72;&#x6307;&#x5357;&#x89C1; <a href="https://keithtenzer.com/2017/03/13/openshift-enterprise-3-4-all-in-one-lab-environment/" target="_blank">the &#x201C;OpenShift Enterprise 3.4 all-in-one Lab Environment&#x201D; article.</a>&#x3002;</p>
<p>&#x786E;&#x4FDD;&#x4F60;&#x7684;OpenShift&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4EE5;&#x89E3;&#x6790;&#x5916;&#x90E8;&#x57DF;&#x540D;&#x3002;&#x7F16;&#x8F91;<code>/etc/dnsmasq.conf</code>&#x6587;&#x4EF6;&#xFF0C;&#x589E;&#x52A0;&#x4E0B;&#x9762;&#x7684;Google DNS&#xFF1A;</p>
<pre class="language-"><code class="lang-ini"><span class="token constant">server</span><span class="token attr-value"><span class="token punctuation">=</span>8.8.8.8</span>
</code></pre>
<p>&#x91CD;&#x542F;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># systemctl restart dnsmasq</span>
<span class="token comment"># ping -c1 google.com</span>
</code></pre>
<h3 id="&#x90E8;&#x7F72;gluster">&#x90E8;&#x7F72;Gluster</h3>
<p>GlusterFS&#x81F3;&#x5C11;&#x9700;&#x8981;&#x6709;&#x4EE5;&#x4E0B;&#x914D;&#x7F6E;&#x7684;3&#x53F0;&#x865A;&#x62DF;&#x673A;&#xFF1A;</p>
<ul>
<li>RHEL 7.3</li>
<li>2 CPUs</li>
<li>2 GB&#x5185;&#x5B58;</li>
<li>30 GB&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#x7ED9;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;</li>
<li>10 GB&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#x7ED9;GlusterFS bricks</li>
</ul>
<p>&#x4FEE;&#x6539;/etc/hosts&#x6587;&#x4EF6;&#xFF0C;&#x5B9A;&#x4E49;&#x4E09;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x7684;&#x4E3B;&#x673A;&#x540D;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF08;&#x4E3B;&#x673A;&#x540D;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4F60;&#x81EA;&#x5DF1;&#x7684;&#x73AF;&#x5883;&#x81EA;&#x7531;&#x8C03;&#x6574;&#xFF09;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># cat /etc/hosts</span>
<span class="token number">127.0</span>.0.1      localhost localhost.localdomain localhost4 localhost4.localdomain4
::1            localhost localhost.localdomain localhost6 localhost6.localdomain6
<span class="token number">172.16</span>.99.144  ocp-master.lab ocp-master
<span class="token number">172.16</span>.128.7   crs-node1.lab crs-node1
<span class="token number">172.16</span>.128.8   crs-node2.lab crs-node2
<span class="token number">172.16</span>.128.9   crs-node3.lab crs-node3
</code></pre>
<p><strong>&#x5728;3&#x53F0;GlusterFS&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x90FD;&#x6267;&#x884C;&#x4EE5;&#x4E0B;&#x6B65;&#x9AA4;</strong>&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># subscription-manager repos --disable=&quot;*&quot;</span>
<span class="token comment"># subscription-manager repos --enable=rhel-7-server-rpms</span>
</code></pre>
<p>&#x5982;&#x679C;&#x4F60;&#x5DF2;&#x7ECF;&#x8BA2;&#x9605;&#x4E86;GlusterFS&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#xFF0C;&#x5F00;&#x542F;<code>rh-gluster-3-for-rhel-7-server-rpms</code>&#x7684;yum&#x6E90;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;EPEL&#x4F7F;&#x7528;&#x975E;&#x5B98;&#x65B9;&#x652F;&#x6301;&#x7684;GlusterFS&#x7684;&#x793E;&#x533A;&#x6E90;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># yum -y install http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</span>
<span class="token comment"># rpm --import http://dl.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7</span>
</code></pre>
<p>&#x5728;<code>/etc/yum.repos.d/</code>&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;<code>glusterfs-3.10.repo</code>&#x6587;&#x4EF6;&#xFF1A;</p>
<pre class="language-"><code class="lang-ini"><span class="token selector">[glusterfs-3.10]</span>
<span class="token constant">name</span><span class="token attr-value"><span class="token punctuation">=</span>glusterfs-3.10</span>
<span class="token constant">description</span><span class="token attr-value"><span class="token punctuation">=</span>&quot;GlusterFS 3.10 Community Version&quot;</span>
<span class="token constant">baseurl</span><span class="token attr-value"><span class="token punctuation">=</span>https://buildlogs.centos.org/centos/7/storage/x86_64/gluster-3.10/</span>
<span class="token constant">gpgcheck</span><span class="token attr-value"><span class="token punctuation">=</span>0</span>
<span class="token constant">enabled</span><span class="token attr-value"><span class="token punctuation">=</span>1</span>
</code></pre>
<p>&#x9A8C;&#x8BC1;&#x6E90;&#x5DF2;&#x7ECF;&#x88AB;&#x6FC0;&#x6D3B;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># yum repolist</span>
</code></pre>
<p>&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x5B89;&#x88C5;GlusterFS&#x4E86;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># yum -y install glusterfs-server</span>
</code></pre>
<p>&#x9700;&#x8981;&#x4E3A;GlusterFS peers&#x6253;&#x5F00;&#x51E0;&#x4E2A;&#x57FA;&#x672C;TCP&#x7AEF;&#x53E3;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E0E;OpenShift&#x8FDB;&#x884C;&#x901A;&#x4FE1;&#x5E76;&#x63D0;&#x4F9B;&#x5B58;&#x50A8;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># firewall-cmd --add-port=24007-24008/tcp --add-port=49152-49664/tcp --add-port=2222/tcp</span>
<span class="token comment"># firewall-cmd --runtime-to-permanent</span>
</code></pre>
<p>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x542F;&#x52A8;GlusterFS&#x7684;daemon&#x8FDB;&#x7A0B;&#x4E86;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># systemctl enable glusterd</span>
<span class="token comment"># systemctl start glusterd</span>
</code></pre>
<p>&#x5B8C;&#x6210;&#x3002;GlusterFS&#x5DF2;&#x7ECF;&#x542F;&#x52A8;&#x5E76;&#x6B63;&#x5728;&#x8FD0;&#x884C;&#x3002;&#x5176;&#x4ED6;&#x914D;&#x7F6E;&#x5C06;&#x901A;&#x8FC7;heketi&#x5B8C;&#x6210;&#x3002;</p>
<p><strong>&#x5728;GlusterFS&#x7684;&#x4E00;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x5B89;&#x88C5;heketi</strong></p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># yum -y install heketi heketi-client</span>
</code></pre>
<h3 id="&#x66F4;&#x65B0;epel">&#x66F4;&#x65B0;EPEL</h3>
<p>&#x5982;&#x679C;&#x4F60;&#x6CA1;&#x6709;Red Hat Gluster Storage&#x8BA2;&#x9605;&#x7684;&#x8BDD;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4ECE;EPEL&#x4E2D;&#x83B7;&#x53D6;heketi&#x3002; &#x5728;&#x64B0;&#x5199;&#x672C;&#x6587;&#x65F6;&#xFF0C;2016&#x5E74;10&#x6708;&#x90A3;&#x65F6;&#x5019;&#x8FD8;&#x662F;3.0.0-1.el7&#x7248;&#x672C;&#xFF0C;&#x5B83;&#x4E0D;&#x9002;&#x7528;&#x4E8E;OpenShift 3.4&#x3002; &#x4F60;&#x5C06;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x5230;&#x66F4;&#x65B0;&#x7684;&#x7248;&#x672C;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># yum -y install wget</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># wget https://github.com/heketi/heketi/releases/download/v4.0.0/heketi-v4.0.0.linux.amd64.tar.gz</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># tar -xzf heketi-v4.0.0.linux.amd64.tar.gz</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># systemctl stop heketi</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># cp heketi/heketi* /usr/bin/</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># chown heketi:heketi /usr/bin/heketi*</span>
</code></pre>
<p>&#x5728;<code>/etc/systemd/system/heketi.service</code>&#x4E2D;&#x521B;&#x5EFA;v4&#x7248;&#x672C;&#x7684;heketi&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x7684;&#x66F4;&#x65B0;&#x8BED;&#x6CD5;&#x6587;&#x4EF6;&#xFF1A;</p>
<pre class="language-"><code class="lang-ini"><span class="token selector">[Unit]</span>
<span class="token constant">Description</span><span class="token attr-value"><span class="token punctuation">=</span>Heketi Server</span>

<span class="token selector">[Service]</span>
<span class="token constant">Type</span><span class="token attr-value"><span class="token punctuation">=</span>simple</span>
<span class="token constant">WorkingDirectory</span><span class="token attr-value"><span class="token punctuation">=</span>/var/lib/heketi</span>
<span class="token constant">EnvironmentFile</span><span class="token attr-value"><span class="token punctuation">=</span>-/etc/heketi/heketi.json</span>
<span class="token constant">User</span><span class="token attr-value"><span class="token punctuation">=</span>heketi</span>
<span class="token constant">ExecStart</span><span class="token attr-value"><span class="token punctuation">=</span>/usr/bin/heketi --config=/etc/heketi/heketi.json</span>
<span class="token constant">Restart</span><span class="token attr-value"><span class="token punctuation">=</span>on-failure</span>
<span class="token constant">StandardOutput</span><span class="token attr-value"><span class="token punctuation">=</span>syslog</span>
<span class="token constant">StandardError</span><span class="token attr-value"><span class="token punctuation">=</span>syslog</span>

<span class="token selector">[Install]</span>
<span class="token constant">WantedBy</span><span class="token attr-value"><span class="token punctuation">=</span>multi-user.target</span>
</code></pre>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># systemctl daemon-reload</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># systemctl start heketi</span>
</code></pre>
<p>Heketi&#x4F7F;&#x7528;SSH&#x6765;&#x914D;&#x7F6E;GlusterFS&#x7684;&#x6240;&#x6709;&#x8282;&#x70B9;&#x3002;&#x521B;&#x5EFA;SSH&#x5BC6;&#x94A5;&#x5BF9;&#xFF0C;&#x5C06;&#x516C;&#x94A5;&#x62F7;&#x8D1D;&#x5230;&#x6240;&#x6709;3&#x4E2A;&#x8282;&#x70B9;&#x4E0A;&#xFF08;&#x5305;&#x62EC;&#x4F60;&#x767B;&#x9646;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF09;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># ssh-keygen -f /etc/heketi/heketi_key -t rsa -N &apos;&apos;</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i /etc/heketi/heketi_key.pub root@crs-node1.lab</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i /etc/heketi/heketi_key.pub root@crs-node2.lab</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># ssh-copy-id -i /etc/heketi/heketi_key.pub root@crs-node3.lab</span>
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># chown heketi:heketi /etc/heketi/heketi_key*</span>
</code></pre>
<p>&#x5269;&#x4E0B;&#x552F;&#x4E00;&#x8981;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#x5C31;&#x662F;&#x914D;&#x7F6E;heketi&#x6765;&#x4F7F;&#x7528;SSH&#x3002; &#x7F16;&#x8F91;<code>/etc/heketi/heketi.json</code>&#x6587;&#x4EF6;&#x4F7F;&#x5B83;&#x770B;&#x8D77;&#x6765;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;&#xFF08;&#x6539;&#x53D8;&#x7684;&#x90E8;&#x5206;&#x7A81;&#x51FA;&#x663E;&#x793A;&#x4E0B;&#x5212;&#x7EBF;&#xFF09;&#xFF1A;</p>
<pre class="language-"><code class="lang-json"><span class="token punctuation">{</span>
   <span class="token property">&quot;_port_comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;Heketi Server Port Number&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;port&quot;</span><span class="token operator">:</span><span class="token string">&quot;8080&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_use_auth&quot;</span><span class="token operator">:</span><span class="token string">&quot;Enable JWT authorization. Please enable for deployment&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;use_auth&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_jwt&quot;</span><span class="token operator">:</span><span class="token string">&quot;Private keys for access&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;jwt&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;_admin&quot;</span><span class="token operator">:</span><span class="token string">&quot;Admin has access to all APIs&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;admin&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;My Secret&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_user&quot;</span><span class="token operator">:</span><span class="token string">&quot;User only has access to /volumes endpoint&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;key&quot;</span><span class="token operator">:</span><span class="token string">&quot;My Secret&quot;</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token property">&quot;_glusterfs_comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;GlusterFS Configuration&quot;</span><span class="token punctuation">,</span>
   <span class="token property">&quot;glusterfs&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token property">&quot;_executor_comment&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
         <span class="token string">&quot;Execute plugin. Possible choices: mock, ssh&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;mock: This setting is used for testing and development.&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot; It will not send commands to any node.&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;ssh: This setting will notify Heketi to ssh to the nodes.&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot; It will need the values in sshexec to be configured.&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;kubernetes: Communicate with GlusterFS containers over&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot; Kubernetes exec api.&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;executor&quot;</span><span class="token operator">:</span><span class="token string">&quot;ssh&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_sshexec_comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;SSH username and private key file information&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sshexec&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;keyfile&quot;</span><span class="token operator">:</span><span class="token string">&quot;/etc/heketi/heketi_key&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;port&quot;</span><span class="token operator">:</span><span class="token string">&quot;22&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;fstab&quot;</span><span class="token operator">:</span><span class="token string">&quot;/etc/fstab&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_kubeexec_comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;Kubernetes configuration&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;kubeexec&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
         <span class="token property">&quot;host&quot;</span><span class="token operator">:</span><span class="token string">&quot;https://kubernetes.host:8443&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;cert&quot;</span><span class="token operator">:</span><span class="token string">&quot;/path/to/crt.file&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;insecure&quot;</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
         <span class="token property">&quot;user&quot;</span><span class="token operator">:</span><span class="token string">&quot;kubernetes username&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;password&quot;</span><span class="token operator">:</span><span class="token string">&quot;password for kubernetes user&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;namespace&quot;</span><span class="token operator">:</span><span class="token string">&quot;OpenShift project or Kubernetes namespace&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;fstab&quot;</span><span class="token operator">:</span><span class="token string">&quot;Optional: Specify fstab file on node. Default is /etc/fstab&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_db_comment&quot;</span><span class="token operator">:</span><span class="token string">&quot;Database file name&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;db&quot;</span><span class="token operator">:</span><span class="token string">&quot;/var/lib/heketi/heketi.db&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;_loglevel_comment&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
         <span class="token string">&quot;Set log level. Choices are:&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot; none, critical, error, warning, info, debug&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;Default is warning&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">&quot;loglevel&quot;</span><span class="token operator">:</span><span class="token string">&quot;debug&quot;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&#x5B8C;&#x6210;&#x3002;heketi&#x5C06;&#x76D1;&#x542C;8080&#x7AEF;&#x53E3;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x786E;&#x8BA4;&#x4E0B;&#x9632;&#x706B;&#x5899;&#x89C4;&#x5219;&#x5141;&#x8BB8;&#x5B83;&#x76D1;&#x542C;&#x8BE5;&#x7AEF;&#x53E3;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># firewall-cmd --add-port=8080/tcp</span>
<span class="token comment"># firewall-cmd --runtime-to-permanent</span>
</code></pre>
<p>&#x91CD;&#x542F;heketi&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># systemctl enable heketi</span>
<span class="token comment"># systemctl restart heketi</span>
</code></pre>
<p>&#x6D4B;&#x8BD5;&#x5B83;&#x662F;&#x5426;&#x5728;&#x8FD0;&#x884C;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># curl http://crs-node1.lab:8080/hello</span>
Hello from Heketi
</code></pre>
<p>&#x5F88;&#x597D;&#x3002;heketi&#x4E0A;&#x573A;&#x7684;&#x65F6;&#x5019;&#x5230;&#x4E86;&#x3002; &#x6211;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x914D;&#x7F6E;&#x6211;&#x4EEC;&#x7684;GlusterFS&#x5B58;&#x50A8;&#x6C60;&#x3002; &#x8BE5;&#x8F6F;&#x4EF6;&#x5DF2;&#x7ECF;&#x5728;&#x6211;&#x4EEC;&#x6240;&#x6709;&#x7684;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#xFF0C;&#x4F46;&#x5E76;&#x672A;&#x88AB;&#x914D;&#x7F6E;&#x3002; &#x8981;&#x5C06;&#x5176;&#x6539;&#x9020;&#x4E3A;&#x6EE1;&#x8DB3;&#x6211;&#x4EEC;&#x9700;&#x6C42;&#x7684;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#xFF0C;&#x9700;&#x8981;&#x5728;&#x62D3;&#x6251;&#x6587;&#x4EF6;&#x4E2D;&#x63CF;&#x8FF0;&#x6211;&#x4EEC;&#x6240;&#x9700;&#x7684;GlusterFS&#x5B58;&#x50A8;&#x6C60;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># vi topology.json</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;clusters&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;nodes&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;hostnames&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;manage&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;crs-node1.lab&quot;</span>
              <span class="token punctuation">]</span>,
              <span class="token string">&quot;storage&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;172.16.128.7&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>,
          <span class="token string">&quot;devices&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;/dev/sdb&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
          <span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;hostnames&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;manage&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;crs-node2.lab&quot;</span>
              <span class="token punctuation">]</span>,
              <span class="token string">&quot;storage&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;172.16.128.8&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>,
          <span class="token string">&quot;devices&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;/dev/sdb&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
          <span class="token string">&quot;node&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;hostnames&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
              <span class="token string">&quot;manage&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;crs-node3.lab&quot;</span>
              <span class="token punctuation">]</span>,
              <span class="token string">&quot;storage&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
                <span class="token string">&quot;172.16.128.9&quot;</span>
              <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>,
            <span class="token string">&quot;zone&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>,
          <span class="token string">&quot;devices&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token string">&quot;/dev/sdb&quot;</span>
          <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&#x8BE5;&#x6587;&#x4EF6;&#x683C;&#x5F0F;&#x6BD4;&#x8F83;&#x7B80;&#x5355;&#xFF0C;&#x57FA;&#x672C;&#x4E0A;&#x662F;&#x544A;&#x8BC9;heketi&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;3&#x8282;&#x70B9;&#x7684;&#x96C6;&#x7FA4;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E2A;&#x8282;&#x70B9;&#x5305;&#x542B;&#x7684;&#x914D;&#x7F6E;&#x6709;FQDN&#xFF0C;IP&#x5730;&#x5740;&#x4EE5;&#x53CA;&#x81F3;&#x5C11;&#x4E00;&#x4E2A;&#x5C06;&#x7528;&#x4F5C;GlusterFS&#x5757;&#x7684;&#x5907;&#x7528;&#x5757;&#x8BBE;&#x5907;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x5C06;&#x8BE5;&#x6587;&#x4EF6;&#x53D1;&#x9001;&#x7ED9;heketi&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># export HEKETI_CLI_SERVER=http://crs-node1.lab:8080</span>
<span class="token comment"># heketi-cli topology load --json=topology.json</span>
Creating cluster <span class="token punctuation">..</span>. ID: 78cdb57aa362f5284bc95b2549bc7e7d
 Creating node crs-node1.lab <span class="token punctuation">..</span>. ID: ffd7671c0083d88aeda9fd1cb40b339b
 Adding device /dev/sdb <span class="token punctuation">..</span>. OK
 Creating node crs-node2.lab <span class="token punctuation">..</span>. ID: 8220975c0a4479792e684584153050a9
 Adding device /dev/sdb <span class="token punctuation">..</span>. OK
 Creating node crs-node3.lab <span class="token punctuation">..</span>. ID: b94f14c4dbd8850f6ac589ac3b39cc8e
 Adding device /dev/sdb <span class="token punctuation">..</span>. OK
</code></pre>
<p>&#x73B0;&#x5728;heketi&#x5DF2;&#x7ECF;&#x914D;&#x7F6E;&#x4E86;3&#x4E2A;&#x8282;&#x70B9;&#x7684;GlusterFS&#x5B58;&#x50A8;&#x6C60;&#x3002;&#x5F88;&#x7B80;&#x5355;&#xFF01;&#x4F60;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x770B;&#x5230;3&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x90FD;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x6784;&#x6210;&#x4E86;GlusterFS&#x4E2D;&#x7684;&#x53EF;&#x4FE1;&#x5B58;&#x50A8;&#x6C60;&#xFF08;Trusted Stroage Pool&#xFF09;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># gluster peer status</span>
Number of Peers: <span class="token number">2</span>

Hostname: crs-node2.lab
Uuid: 93b34946-9571-46a8-983c-c9f128557c0e
State: Peer <span class="token keyword">in</span> Cluster <span class="token punctuation">(</span>Connected<span class="token punctuation">)</span>
Other names:
crs-node2.lab

Hostname: <span class="token number">172.16</span>.128.9
Uuid: e3c1f9b0-be97-42e5-beda-f70fc05f47ea
State: Peer <span class="token keyword">in</span> Cluster <span class="token punctuation">(</span>Connected<span class="token punctuation">)</span>
</code></pre>
<p>&#x73B0;&#x5728;&#x56DE;&#x5230;OpenShift&#xFF01;</p>
<h3 id="&#x5C06;gluster&#x4E0E;openshift&#x96C6;&#x6210;">&#x5C06;Gluster&#x4E0E;OpenShift&#x96C6;&#x6210;</h3>
<p>&#x4E3A;&#x4E86;&#x96C6;&#x6210;OpenShift&#xFF0C;&#x9700;&#x8981;&#x4E24;&#x6837;&#x4E1C;&#x897F;&#xFF1A;&#x4E00;&#x4E2A;&#x52A8;&#x6001;&#x7684;Kubernetes Storage Provisioner&#x548C;&#x4E00;&#x4E2A;StorageClass&#x3002; Provisioner&#x5728;OpenShift&#x4E2D;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x3002; &#x5B9E;&#x9645;&#x4E0A;&#x5173;&#x952E;&#x7684;&#x662F;&#x5982;&#x4F55;&#x5C06;&#x5B58;&#x50A8;&#x6302;&#x8F7D;&#x5230;&#x5BB9;&#x5668;&#x4E0A;&#x3002; StorageClass&#x662F;OpenShift&#x4E2D;&#x7684;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5B9E;&#x73B0;&#x7684;PersistentVolumeClaims&#x7684;&#x5B9E;&#x4F53;&#xFF0C;&#x5B83;&#x53CD;&#x8FC7;&#x6765;&#x80FD;&#x591F;&#x89E6;&#x53D1;&#x4E00;&#x4E2A;Provisioner&#x5B9E;&#x73B0;&#x5B9E;&#x9645;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x5E76;&#x5C06;&#x7ED3;&#x679C;&#x8868;&#x793A;&#x4E3A;Kubernetes PersistentVolume&#xFF08;PV&#xFF09;&#x3002;</p>
<p>&#x5C31;&#x50CF;OpenShift&#x4E2D;&#x7684;&#x5176;&#x4ED6;&#x7EC4;&#x4EF6;&#x4E00;&#x6837;&#xFF0C;StorageClass&#x4E5F;&#x7B80;&#x5355;&#x7684;&#x7528;YAML&#x6587;&#x4EF6;&#x5B9A;&#x4E49;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># cat crs-storageclass.yaml</span>
kind: StorageClass
apiVersion: storage.k8s.io/v1beta1
metadata:
 name: container-ready-storage
 annotations:
 storageclass.beta.kubernetes.io/is-default-class: <span class="token string">&quot;true&quot;</span>
provisioner: kubernetes.io/glusterfs
parameters:
 resturl: <span class="token string">&quot;http://crs-node1.lab:8080&quot;</span>
 restauthenabled: <span class="token string">&quot;false&quot;</span>
</code></pre>
<p>&#x6211;&#x4EEC;&#x7684;provisioner&#x662F;kubernetes.io/glusterfs&#xFF0C;&#x5C06;&#x5B83;&#x6307;&#x5411;&#x6211;&#x4EEC;&#x7684;heketi&#x5B9E;&#x4F8B;&#x3002; &#x6211;&#x4EEC;&#x5C06;&#x7C7B;&#x547D;&#x540D;&#x4E3A;&#x201C;container-ready-storage&#x201D;&#xFF0C;&#x540C;&#x65F6;&#x4F7F;&#x5176;&#x6210;&#x4E3A;&#x6240;&#x6709;&#x6CA1;&#x6709;&#x663E;&#x793A;&#x6307;&#x5B9A;StorageClass&#x7684;PersistentVolumeClaim&#x7684;&#x9ED8;&#x8BA4;StorageClass&#x3002;</p>
<p>&#x4E3A;&#x4F60;&#x7684;GlusterFS&#x6C60;&#x521B;&#x5EFA;StorageClass&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc create -f crs-storageclass.yaml</span>
</code></pre>
<h3 id="&#x5728;openshift&#x4E2D;&#x4F7F;&#x7528;gluster">&#x5728;OpenShift&#x4E2D;&#x4F7F;&#x7528;Gluster</h3>
<p>&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x5982;&#x4F55;&#x5728;OpenShift&#x4E2D;&#x4F7F;&#x7528;GlusterFS&#x3002;&#x9996;&#x5148;&#x5728;OpenShift&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#x9879;&#x76EE;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc new-project crs-storage --display-name=&quot;Container-Ready Storage&quot;</span>
</code></pre>
<p>&#x8FD9;&#x4F1A;&#x5411;Kubernetes/OpenShift&#x53D1;&#x51FA;storage&#x8BF7;&#x6C42;&#xFF0C;&#x8BF7;&#x6C42;&#x4E00;&#x4E2A;PersistentVolumeClaim&#xFF08;PVC&#xFF09;&#x3002; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5B83;&#x63CF;&#x8FF0;&#x6700;&#x5C11;&#x9700;&#x8981;&#x591A;&#x5C11;&#x5BB9;&#x91CF;&#x548C;&#x5E94;&#x8BE5;&#x63D0;&#x4F9B;&#x54EA;&#x79CD;&#x8BBF;&#x95EE;&#x6A21;&#x5F0F;&#xFF08;&#x975E;&#x5171;&#x4EAB;&#xFF0C;&#x5171;&#x4EAB;&#xFF0C;&#x53EA;&#x8BFB;&#xFF09;&#x3002; &#x5B83;&#x901A;&#x5E38;&#x662F;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6A21;&#x677F;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x4F46;&#x6211;&#x4EEC;&#x53EA;&#x9700;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;PVC&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># cat crs-claim.yaml</span>
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
 name: my-crs-storage
 namespace: crs-storage
spec:
 accessModes:
 - ReadWriteOnce
 resources:
 requests:
 storage: 1Gi
</code></pre>
<p>&#x53D1;&#x9001;&#x8BE5;&#x8BF7;&#x6C42;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc create -f crs-claim.yaml</span>
</code></pre>
<p>&#x89C2;&#x5BDF;&#x5728;OpenShfit&#x4E2D;&#xFF0C;PVC&#x6B63;&#x5728;&#x4EE5;&#x52A8;&#x6001;&#x521B;&#x5EFA;volume&#x7684;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc get pvc</span>
NAME             STATUS    VOLUME                                     CAPACITY   ACCESSMODES   AGE
my-crs-storage   Bound     pvc-41ad5adb-107c-11e7-afae-000c2949cce7   1Gi        RWO           58s
</code></pre>
<p>&#x592A;&#x68D2;&#x4E86;&#xFF01; &#x4F60;&#x73B0;&#x5728;&#x53EF;&#x4EE5;&#x5728;OpenShift&#x4E2D;&#x4F7F;&#x7528;&#x5B58;&#x50A8;&#x5BB9;&#x91CF;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x76F4;&#x63A5;&#x4E0E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x8FDB;&#x884C;&#x4EFB;&#x4F55;&#x4EA4;&#x4E92;&#x3002; &#x6211;&#x4EEC;&#x6765;&#x770B;&#x770B;&#x521B;&#x5EFA;&#x7684;volume&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc get pv/pvc-41ad5adb-107c-11e7-afae-000c2949cce7</span>
Name:        pvc-41ad5adb-107c-11e7-afae-000c2949cce7
Labels:        
StorageClass:    container-ready-storage
Status:        Bound
Claim:        crs-storage/my-crs-storage
Reclaim Policy:    Delete
Access Modes:    RWO
Capacity:    1Gi
Message:
Source:
    Type:        Glusterfs <span class="token punctuation">(</span>a Glusterfs <span class="token function">mount</span> on the <span class="token function">host</span> that shares a pod&apos;s lifetime<span class="token punctuation">)</span>
    EndpointsName:    gluster-dynamic-my-crs-storage
    Path:        vol_85e444ee3bc154de084976a9aef16025
    ReadOnly:        <span class="token boolean">false</span>
</code></pre>
<p>What happened in the background was that when the PVC reached the system, our default StorageClass reached out to the GlusterFS Provisioner with the volume specs from the PVC. The provisioner in turn communicates with our heketi instance which facilitates the creation of the GlusterFS volume, which we can trace in it&#x2019;s log messages:</p>
<p>&#x8BE5;volume&#x662F;&#x6839;&#x636E;PVC&#x4E2D;&#x7684;&#x5B9A;&#x4E49;&#x7279;&#x522B;&#x521B;&#x5EFA;&#x7684;&#x3002; &#x5728;PVC&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x6CA1;&#x6709;&#x660E;&#x786E;&#x6307;&#x5B9A;&#x8981;&#x4F7F;&#x7528;&#x54EA;&#x4E2A;StorageClass&#xFF0C;&#x56E0;&#x4E3A;heketi&#x7684;GlusterFS StorageClass&#x5DF2;&#x7ECF;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x7CFB;&#x7EDF;&#x8303;&#x56F4;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</p>
<p>&#x5728;&#x540E;&#x53F0;&#x53D1;&#x751F;&#x7684;&#x60C5;&#x51B5;&#x662F;&#xFF0C;&#x5F53;PVC&#x5230;&#x8FBE;&#x7CFB;&#x7EDF;&#x65F6;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684;StorageClass&#x8BF7;&#x6C42;&#x5177;&#x6709;&#x8BE5;PVC&#x4E2D;volume&#x58F0;&#x660E;&#x89C4;&#x683C;&#x7684;GlusterFS Provisioner&#x3002; Provisioner&#x53C8;&#x4E0E;&#x6211;&#x4EEC;&#x7684;heketi&#x5B9E;&#x4F8B;&#x901A;&#x4FE1;&#xFF0C;&#x8FD9;&#x6709;&#x52A9;&#x4E8E;&#x521B;&#x5EFA;GlusterFS volume&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x5176;&#x65E5;&#x5FD7;&#x6D88;&#x606F;&#x4E2D;&#x8FFD;&#x8E2A;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># journalctl -l -u heketi.service</span>
<span class="token punctuation">..</span>.
Mar <span class="token number">24</span> <span class="token number">11</span>:25:52 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span>heketi<span class="token punctuation">]</span> DEBUG <span class="token number">2017</span>/03/24 <span class="token number">11</span>:25:52 /src/github.com/heketi/heketi/apps/glusterfs/volume_entry.go:298: Volume to be created on cluster e
Mar <span class="token number">24</span> <span class="token number">11</span>:25:52 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span>heketi<span class="token punctuation">]</span> INFO <span class="token number">2017</span>/03/24 <span class="token number">11</span>:25:52 Creating brick 9e791b1daa12af783c9195941fe63103
Mar <span class="token number">24</span> <span class="token number">11</span>:25:52 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span>heketi<span class="token punctuation">]</span> INFO <span class="token number">2017</span>/03/24 <span class="token number">11</span>:25:52 Creating brick 3e06af2f855bef521a95ada91680d14b
Mar <span class="token number">24</span> <span class="token number">11</span>:25:52 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span>heketi<span class="token punctuation">]</span> INFO <span class="token number">2017</span>/03/24 <span class="token number">11</span>:25:52 Creating brick e4daa240f1359071e3f7ea22618cfbab
<span class="token punctuation">..</span>.
Mar <span class="token number">24</span> <span class="token number">11</span>:25:52 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span>sshexec<span class="token punctuation">]</span> INFO <span class="token number">2017</span>/03/24 <span class="token number">11</span>:25:52 Creating volume vol_85e444ee3bc154de084976a9aef16025 replica <span class="token number">3</span>
<span class="token punctuation">..</span>.
Mar <span class="token number">24</span> <span class="token number">11</span>:25:53 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: Result: volume create: vol_85e444ee3bc154de084976a9aef16025: success: please start the volume to access data
<span class="token punctuation">..</span>.
Mar <span class="token number">24</span> <span class="token number">11</span>:25:55 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: Result: volume start: vol_85e444ee3bc154de084976a9aef16025: success
<span class="token punctuation">..</span>.
Mar <span class="token number">24</span> <span class="token number">11</span>:25:55 crs-node1.lab heketi<span class="token punctuation">[</span><span class="token number">2598</span><span class="token punctuation">]</span>: <span class="token punctuation">[</span>asynchttp<span class="token punctuation">]</span> INFO <span class="token number">2017</span>/03/24 <span class="token number">11</span>:25:55 Completed job c3d6c4f9fc74796f4a5262647dc790fe <span class="token keyword">in</span> <span class="token number">3</span>.176522702s
<span class="token punctuation">..</span>.
</code></pre>
<p>&#x6210;&#x529F;&#xFF01; &#x5927;&#x7EA6;&#x7528;&#x4E86;3&#x79D2;&#x949F;&#xFF0C;GlusterFS&#x6C60;&#x5C31;&#x914D;&#x7F6E;&#x5B8C;&#x6210;&#x4E86;&#xFF0C;&#x5E76;&#x914D;&#x7F6E;&#x4E86;&#x4E00;&#x4E2A;volume&#x3002; &#x9ED8;&#x8BA4;&#x503C;&#x662F;replica 3&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6570;&#x636E;&#x5C06;&#x88AB;&#x590D;&#x5236;&#x5230;3&#x4E2A;&#x4E0D;&#x540C;&#x8282;&#x70B9;&#x7684;3&#x4E2A;&#x5757;&#x4E0A;&#xFF08;&#x7528;GlusterFS&#x4F5C;&#x4E3A;&#x540E;&#x7AEF;&#x5B58;&#x50A8;&#xFF09;&#x3002; &#x8BE5;&#x8FC7;&#x7A0B;&#x662F;&#x901A;&#x8FC7;Heketi&#x5728;OpenShift&#x8FDB;&#x884C;&#x7F16;&#x6392;&#x7684;&#x3002;</p>
<p>&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4ECE;GlusterFS&#x7684;&#x89D2;&#x5EA6;&#x770B;&#x5230;&#x6709;&#x5173;volume&#x7684;&#x4FE1;&#x606F;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># gluster volume list</span>
vol_85e444ee3bc154de084976a9aef16025
<span class="token punctuation">[</span>root@crs-node1 ~<span class="token punctuation">]</span><span class="token comment"># gluster volume info vol_85e444ee3bc154de084976a9aef16025</span>

Volume Name: vol_85e444ee3bc154de084976a9aef16025
Type: Replicate
Volume ID: a32168c8-858e-472a-b145-08c20192082b
Status: Started
Snapshot Count: <span class="token number">0</span>
Number of Bricks: <span class="token number">1</span> x <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">3</span>
Transport-type: tcp
Bricks:
Brick1: <span class="token number">172.16</span>.128.8:/var/lib/heketi/mounts/vg_147b43f6f6903be8b23209903b7172ae/brick_9e791b1daa12af783c9195941fe63103/brick
Brick2: <span class="token number">172.16</span>.128.9:/var/lib/heketi/mounts/vg_72c0f520b0c57d807be21e9c90312f85/brick_3e06af2f855bef521a95ada91680d14b/brick
Brick3: <span class="token number">172.16</span>.128.7:/var/lib/heketi/mounts/vg_67314f879686de975f9b8936ae43c5c5/brick_e4daa240f1359071e3f7ea22618cfbab/brick
Options Reconfigured:
transport.address-family: inet
nfs.disable: on
</code></pre>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;GlusterFS&#x4E2D;&#x7684;&#x5377;&#x540D;&#x79F0;&#x5982;&#x4F55;&#x5BF9;&#x5E94;&#x4E8E;OpenShift&#x4E2D;Kubernetes Persistent Volume&#x7684;&#x201C;&#x8DEF;&#x5F84;&#x201D;&#x3002;</p>
<p>&#x6216;&#x8005;&#xFF0C;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;OpenShift UI&#x6765;&#x914D;&#x7F6E;&#x5B58;&#x50A8;&#xFF0C;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x5F88;&#x65B9;&#x4FBF;&#x5730;&#x5728;&#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5DF2;&#x77E5;&#x7684;StorageClasses&#x4E2D;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#xFF1A;</p>
<figure id="fig4.6.1.3.1"><a href="../images/create-gluster-storage.png" data-lightbox="dad7a282-8708-4b12-8cec-b7099fa0f25f" data-title="&#x521B;&#x5EFA;&#x5B58;&#x50A8;"><img src="../images/create-gluster-storage.png" alt="&#x521B;&#x5EFA;&#x5B58;&#x50A8;"></a><figcaption>&#x56FE;&#x7247; - &#x521B;&#x5EFA;&#x5B58;&#x50A8;</figcaption></figure>
<figure id="fig4.6.1.3.2"><a href="https://keithtenzer.files.wordpress.com/2017/03/screen-shot-2017-03-24-at-11-09-341.png?w=440" data-lightbox="39266c2b-66f5-4eac-833e-80dfa18b341b" data-title="Screen Shot 2017-03-24 at 11.09.34.png" target="_blank"><img src="https://keithtenzer.files.wordpress.com/2017/03/screen-shot-2017-03-24-at-11-09-341.png?w=440" alt="Screen Shot 2017-03-24 at 11.09.34.png"></a><figcaption>&#x56FE;&#x7247; - Screen Shot 2017-03-24 at 11.09.34.png</figcaption></figure>
<p>&#x8BA9;&#x6211;&#x4EEC;&#x505A;&#x70B9;&#x66F4;&#x6709;&#x8DA3;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x5728;OpenShift&#x4E2D;&#x8FD0;&#x884C;&#x5DE5;&#x4F5C;&#x8D1F;&#x8F7D;&#x3002;</p>
<p>&#x5728;&#x4ECD;&#x8FD0;&#x884C;&#x7740;crs-storage&#x9879;&#x76EE;&#x7684;OpenShift&#x865A;&#x62DF;&#x673A;&#x4E2D;&#x6267;&#x884C;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc get templates -n openshift</span>
</code></pre>
<p>&#x4F60;&#x5E94;&#x8BE5;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x6A21;&#x677F;&#x5217;&#x8868;&#xFF0C;&#x8FD9;&#x4E2A;&#x5217;&#x8868;&#x5C06;&#x65B9;&#x4FBF;&#x4F60;&#x66F4;&#x8F7B;&#x677E;&#x7684;&#x4F7F;&#x7528;OpenShift&#x6765;&#x90E8;&#x7F72;&#x4F60;&#x7684;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x9879;&#x76EE;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x5C06;&#x4F7F;&#x7528;MySQL&#x6765;&#x6F14;&#x793A;&#x5982;&#x4F55;&#x5728;OpenShift&#x4E0A;&#x90E8;&#x7F72;&#x5177;&#x6709;&#x6301;&#x4E45;&#x5316;&#x548C;&#x5F39;&#x6027;&#x5B58;&#x50A8;&#x7684;&#x6709;&#x72B6;&#x6001;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x3002; Mysql-persistent&#x6A21;&#x677F;&#x5305;&#x542B;&#x4E00;&#x4E2A;&#x7528;&#x4E8E;MySQL&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x7684;1G&#x7A7A;&#x95F4;&#x7684;PVC&#x3002; &#x4E3A;&#x4E86;&#x6F14;&#x793A;&#x76EE;&#x7684;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#x3002;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc process mysql-persistent -n openshift | oc create -f -</span>
</code></pre>
<p>&#x7B49;&#x5F85;&#x90E8;&#x7F72;&#x5B8C;&#x6210;&#x3002;&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;UI&#x6216;&#x8005;&#x547D;&#x4EE4;&#x884C;&#x89C2;&#x5BDF;&#x90E8;&#x7F72;&#x8FDB;&#x5EA6;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc get pods</span>
NAME            READY     STATUS    RESTARTS   AGE
mysql-1-h4afb   <span class="token number">1</span>/1       Running   <span class="token number">0</span>          2m
</code></pre>
<p>&#x597D;&#x4E86;&#x3002;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x6A21;&#x677F;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;service&#xFF0C;secrets&#x3001;PVC&#x548C;pod&#x3002;&#x6211;&#x4EEC;&#x6765;&#x4F7F;&#x7528;&#x5B83;&#xFF08;&#x4F60;&#x7684;pod&#x540D;&#x5B57;&#x5C06;&#x8DDF;&#x6211;&#x7684;&#x4E0D;&#x540C;&#xFF09;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc rsh mysql-1-h4afb</span>
</code></pre>
<p>&#x4F60;&#x5DF2;&#x7ECF;&#x6210;&#x529F;&#x7684;&#x5C06;&#x5B83;&#x6302;&#x8F7D;&#x5230;MySQL&#x7684;pod&#x4E0A;&#x3002;&#x6211;&#x4EEC;&#x8FDE;&#x63A5;&#x4E00;&#x4E0B;&#x6570;&#x636E;&#x5E93;&#x8BD5;&#x8BD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash">sh-4.2$ mysql -u <span class="token variable">$MYSQL_USER</span> -p<span class="token variable">$MYSQL_PASSWORD</span> -h <span class="token environment constant">$HOSTNAME</span> <span class="token variable">$MYSQL_DATABASE</span>
</code></pre>
<p>&#x8FD9;&#x70B9;&#x5F88;&#x65B9;&#x4FBF;&#xFF0C;&#x6240;&#x6709;&#x91CD;&#x8981;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x5982;MySQL&#x51ED;&#x636E;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;&#x7B49;&#x90FD;&#x662F;pod&#x6A21;&#x677F;&#x4E2D;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5728;pod&#x4E2D;&#x4F5C;&#x4E3A;shell&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x3002; &#x6211;&#x4EEC;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E9B;&#x6570;&#x636E;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash">mysql<span class="token operator">&gt;</span> show databases<span class="token punctuation">;</span>
+--------------------+
<span class="token operator">|</span> Database           <span class="token operator">|</span>
+--------------------+
<span class="token operator">|</span> information_schema <span class="token operator">|</span>
<span class="token operator">|</span> sampledb           <span class="token operator">|</span>
+--------------------+
<span class="token number">2</span> rows <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token punctuation">\</span>u sampledb
Database changed
mysql<span class="token operator">&gt;</span> CREATE TABLE IF NOT EXISTS equipment <span class="token punctuation">(</span>
    -<span class="token operator">&gt;</span>     equip_id int<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> NOT NULL AUTO_INCREMENT,
    -<span class="token operator">&gt;</span>     <span class="token builtin class-name">type</span> varchar<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> DEFAULT NULL,
    -<span class="token operator">&gt;</span>     install_date DATE DEFAULT NULL,
    -<span class="token operator">&gt;</span>     color varchar<span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> DEFAULT NULL,
    -<span class="token operator">&gt;</span>     working bool DEFAULT NULL,
    -<span class="token operator">&gt;</span>     location varchar<span class="token punctuation">(</span><span class="token number">250</span><span class="token punctuation">)</span> DEFAULT NULL,
    -<span class="token operator">&gt;</span>     PRIMARY KEY<span class="token punctuation">(</span>equip_id<span class="token punctuation">)</span>
    -<span class="token operator">&gt;</span>     <span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.13</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> INSERT INTO equipment <span class="token punctuation">(</span>type, install_date, color, working, location<span class="token punctuation">)</span>
    -<span class="token operator">&gt;</span> VALUES
    -<span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token string">&quot;Slide&quot;</span>, Now<span class="token punctuation">(</span><span class="token punctuation">)</span>, <span class="token string">&quot;blue&quot;</span>, <span class="token number">1</span>, <span class="token string">&quot;Southwest Corner&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, <span class="token number">1</span> row affected, <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> SELECT * FROM equipment<span class="token punctuation">;</span>
+----------+-------+--------------+-------+---------+------------------+
<span class="token operator">|</span> equip_id <span class="token operator">|</span> <span class="token builtin class-name">type</span>  <span class="token operator">|</span> install_date <span class="token operator">|</span> color <span class="token operator">|</span> working <span class="token operator">|</span> location         <span class="token operator">|</span>
+----------+-------+--------------+-------+---------+------------------+
<span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span> Slide <span class="token operator">|</span> <span class="token number">2017</span>-03-24   <span class="token operator">|</span> blue  <span class="token operator">|</span>       <span class="token number">1</span> <span class="token operator">|</span> Southwest Corner <span class="token operator">|</span>
+----------+-------+--------------+-------+---------+------------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre>
<p>&#x5F88;&#x597D;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x8FD0;&#x884C;&#x6B63;&#x5E38;&#x3002;</p>
<p>&#x4F60;&#x60F3;&#x770B;&#x4E0B;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;&#x54EA;&#x91CC;&#x5417;&#xFF1F;&#x5F88;&#x7B80;&#x5355;&#xFF01;&#x67E5;&#x770B;&#x521A;&#x4F7F;&#x7528;&#x6A21;&#x677F;&#x521B;&#x5EFA;&#x7684;mysql volume&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># oc get pvc/mysql</span>
NAME      STATUS    VOLUME                                     CAPACITY   ACCESSMODES   AGE
mysql     Bound     pvc-a678b583-1082-11e7-afae-000c2949cce7   1Gi        RWO           11m
<span class="token comment"># oc describe pv/pvc-a678b583-1082-11e7-afae-000c2949cce7</span>
Name:        pvc-a678b583-1082-11e7-afae-000c2949cce7
Labels:        
StorageClass:    container-ready-storage
Status:        Bound
Claim:        crs-storage/mysql
Reclaim Policy:    Delete
Access Modes:    RWO
Capacity:    1Gi
Message:
Source:
    Type:        Glusterfs <span class="token punctuation">(</span>a Glusterfs <span class="token function">mount</span> on the <span class="token function">host</span> that shares a pod&apos;s lifetime<span class="token punctuation">)</span>
    EndpointsName:    gluster-dynamic-mysql
    Path:        vol_6299fc74eee513119dafd43f8a438db1
    ReadOnly:        <span class="token boolean">false</span>
</code></pre>
<p>GlusterFS&#x7684;volume&#x540D;&#x5B57;&#x662F;vol_6299fc74eee513119dafd43f8a438db1&#x3002;&#x56DE;&#x5230;&#x4F60;&#x7684;GlusterFS&#x865A;&#x62DF;&#x673A;&#x4E2D;&#xFF0C;&#x8F93;&#x5165;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># gluster volume info vol_6299fc74eee513119dafd43f8a438db</span>

Volume Name: vol_6299fc74eee513119dafd43f8a438db1
Type: Replicate
Volume ID: 4115918f-28f7-4d4a-b3f5-4b9afe5b391f
Status: Started
Snapshot Count: <span class="token number">0</span>
Number of Bricks: <span class="token number">1</span> x <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">3</span>
Transport-type: tcp
Bricks:
Brick1: <span class="token number">172.16</span>.128.7:/var/lib/heketi/mounts/vg_67314f879686de975f9b8936ae43c5c5/brick_f264a47aa32be5d595f83477572becf8/brick
Brick2: <span class="token number">172.16</span>.128.8:/var/lib/heketi/mounts/vg_147b43f6f6903be8b23209903b7172ae/brick_f5731fe7175cbe6e6567e013c2591343/brick
Brick3: <span class="token number">172.16</span>.128.9:/var/lib/heketi/mounts/vg_72c0f520b0c57d807be21e9c90312f85/brick_ac6add804a6a467cd81cd1404841bbf1/brick
Options Reconfigured:
transport.address-family: inet
nfs.disable: on
</code></pre>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6570;&#x636E;&#x662F;&#x5982;&#x4F55;&#x88AB;&#x590D;&#x5236;&#x5230;3&#x4E2A;GlusterFS&#x5757;&#x7684;&#x3002;&#x6211;&#x4EEC;&#x4ECE;&#x4E2D;&#x6311;&#x4E00;&#x4E2A;&#xFF08;&#x6700;&#x597D;&#x6311;&#x9009;&#x4F60;&#x521A;&#x767B;&#x9646;&#x7684;&#x90A3;&#x53F0;&#x865A;&#x62DF;&#x673A;&#x5E76;&#x67E5;&#x770B;&#x76EE;&#x5F55;&#xFF09;&#xFF1A;</p>
<pre class="language-"><code class="lang-bash"><span class="token comment"># ll /var/lib/heketi/mounts/vg_67314f879686de975f9b8936ae43c5c5/brick_f264a47aa32be5d595f83477572becf8/brick</span>
total <span class="token number">180300</span>
-rw-r-----. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>       <span class="token number">56</span> Mar <span class="token number">24</span> <span class="token number">12</span>:11 auto.cnf
-rw-------. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">1676</span> Mar <span class="token number">24</span> <span class="token number">12</span>:11 ca-key.pem
-rw-r--r--. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">1075</span> Mar <span class="token number">24</span> <span class="token number">12</span>:11 ca.pem
-rw-r--r--. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">1079</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 client-cert.pem
-rw-------. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">1680</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 client-key.pem
-rw-r-----. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>      <span class="token number">352</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 ib_buffer_pool
-rw-r-----. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span> <span class="token number">12582912</span> Mar <span class="token number">24</span> <span class="token number">12</span>:20 ibdata1
-rw-r-----. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span> <span class="token number">79691776</span> Mar <span class="token number">24</span> <span class="token number">12</span>:20 ib_logfile0
-rw-r-----. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span> <span class="token number">79691776</span> Mar <span class="token number">24</span> <span class="token number">12</span>:11 ib_logfile1
-rw-r-----. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span> <span class="token number">12582912</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 ibtmp1
drwxr-s---. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">8192</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 mysql
-rw-r-----. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>        <span class="token number">2</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 mysql-1-h4afb.pid
drwxr-s---. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">8192</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 performance_schema
-rw-------. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">1676</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 private_key.pem
-rw-r--r--. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>      <span class="token number">452</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 public_key.pem
drwxr-s---. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>       <span class="token number">62</span> Mar <span class="token number">24</span> <span class="token number">12</span>:20 sampledb
-rw-r--r--. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">1079</span> Mar <span class="token number">24</span> <span class="token number">12</span>:11 server-cert.pem
-rw-------. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">1676</span> Mar <span class="token number">24</span> <span class="token number">12</span>:11 server-key.pem
drwxr-s---. <span class="token number">2</span> <span class="token number">1000070000</span> <span class="token number">2001</span>     <span class="token number">8192</span> Mar <span class="token number">24</span> <span class="token number">12</span>:12 sys
</code></pre>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x8FD9;&#x91CC;&#x770B;&#x5230;MySQL&#x6570;&#x636E;&#x5E93;&#x76EE;&#x5F55;&#x3002; &#x5B83;&#x4F7F;&#x7528;GlusterFS&#x4F5C;&#x4E3A;&#x540E;&#x7AEF;&#x5B58;&#x50A8;&#xFF0C;&#x5E76;&#x4F5C;&#x4E3A;&#x7ED1;&#x5B9A;&#x6302;&#x8F7D;&#x7ED9;MySQL&#x5BB9;&#x5668;&#x4F7F;&#x7528;&#x3002; &#x5982;&#x679C;&#x4F60;&#x68C0;&#x67E5;OpenShift VM&#x4E0A;&#x7684;mount&#x8868;&#xFF0C;&#x4F60;&#x5C06;&#x4F1A;&#x770B;&#x5230;GlusterFS&#x7684;mount&#x3002;</p>
<h3 id="&#x603B;&#x7ED3;">&#x603B;&#x7ED3;</h3>
<p>&#x5728;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x662F;&#x5728;OpenShift&#x4E4B;&#x5916;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x4F46;&#x529F;&#x80FD;&#x5F3A;&#x5927;&#x7684;GlusterFS&#x5B58;&#x50A8;&#x6C60;&#x3002; &#x8BE5;&#x6C60;&#x53EF;&#x4EE5;&#x72EC;&#x7ACB;&#x4E8E;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x6269;&#x5C55;&#x548C;&#x6536;&#x7F29;&#x3002; &#x8BE5;&#x6C60;&#x7684;&#x6574;&#x4E2A;&#x751F;&#x547D;&#x5468;&#x671F;&#x7531;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x79F0;&#x4E3A;heketi&#x7684;&#x524D;&#x7AEF;&#x7BA1;&#x7406;&#xFF0C;&#x4F60;&#x53EA;&#x9700;&#x8981;&#x5728;&#x90E8;&#x7F72;&#x589E;&#x957F;&#x65F6;&#x8FDB;&#x884C;&#x624B;&#x52A8;&#x5E72;&#x9884;&#x3002; &#x5BF9;&#x4E8E;&#x65E5;&#x5E38;&#x914D;&#x7F6E;&#x64CD;&#x4F5C;&#xFF0C;&#x4F7F;&#x7528;&#x5B83;&#x7684;API&#x4E0E;OpenShifts&#x52A8;&#x6001;&#x914D;&#x7F6E;&#x5668;&#x4EA4;&#x4E92;&#xFF0C;&#x65E0;&#x9700;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x76F4;&#x63A5;&#x4E0E;&#x57FA;&#x7840;&#x67B6;&#x6784;&#x56E2;&#x961F;&#x8FDB;&#x884C;&#x4EA4;&#x4E92;&#x3002;</p>
<p>o&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x5C06;&#x5B58;&#x50A8;&#x5E26;&#x5165;DevOps&#x4E16;&#x754C; - &#x65E0;&#x75DB;&#x82E6;&#xFF0C;&#x5E76;&#x5728;OpenShift PaaS&#x7CFB;&#x7EDF;&#x7684;&#x5F00;&#x53D1;&#x4EBA;&#x5458;&#x5DE5;&#x5177;&#x4E2D;&#x76F4;&#x63A5;&#x63D0;&#x4F9B;&#x3002;</p>
<p>GlusterFS&#x548C;OpenShift&#x53EF;&#x8DE8;&#x8D8A;&#x6240;&#x6709;&#x73AF;&#x5883;&#xFF1A;&#x88F8;&#x673A;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x79C1;&#x6709;&#x548C;&#x516C;&#x5171;&#x4E91;&#xFF08;Azure&#xFF0C;Google Cloud&#xFF0C;AWS ...&#xFF09;&#xFF0C;&#x786E;&#x4FDD;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x53EF;&#x79FB;&#x690D;&#x6027;&#xFF0C;&#x5E76;&#x907F;&#x514D;&#x4E91;&#x4F9B;&#x5E94;&#x5546;&#x9501;&#x5B9A;&#x3002;</p>
<p>&#x795D;&#x4F60;&#x6109;&#x5FEB;&#x5728;&#x5BB9;&#x5668;&#x4E2D;&#x4F7F;&#x7528;GlusterFS&#xFF01;</p>
<p>(c) 2017 Keith Tenzer</p>
<p>&#x539F;&#x6587;&#x94FE;&#x63A5;&#xFF1A;<a href="https://keithtenzer.com/2017/03/24/storage-for-containers-using-gluster-part-ii/" target="_blank">https://keithtenzer.com/2017/03/24/storage-for-containers-using-gluster-part-ii/</a></p>
<footer class="page-footer"><span class="copyright"><p><a href="https:www.k8sz.com" target="_blank">ZB</a> all right reserved&#xFF0C;powered by Gitbook</p></span><span class="footer-modification">File Modify: 
2019-08-28 17:31:53
</span></footer></body></html>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="using-heketi-gluster-for-persistent-storage.html" class="navigation navigation-prev " aria-label="Previous page: 使用Heketi作为Kubernetes的持久存储GlusterFS的external provisioner">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="glusterd-2.0.html" class="navigation navigation-next " aria-label="Next page: GlusterD-2.0">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"在OpenShift中使用GlusterFS做持久化存储","level":"4.6.1.3","depth":3,"next":{"title":"GlusterD-2.0","level":"4.6.2","depth":2,"path":"practice/glusterd-2.0.md","ref":"practice/glusterd-2.0.md","articles":[]},"previous":{"title":"使用Heketi作为Kubernetes的持久存储GlusterFS的external provisioner","level":"4.6.1.2","depth":3,"path":"practice/using-heketi-gluster-for-persistent-storage.md","ref":"practice/using-heketi-gluster-for-persistent-storage.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github","codesnippet","splitter","page-toc-button","image-captions","editlink","back-to-top-button","-lunr","-search","search-plus","github-buttons@2.1.0","favicon@^0.0.2","tbfed-pagefooter@^0.0.1","theme-default","-highlight","prism","prism-themes","sitemap-general","lightbox","copy-code-button","alerts"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"<p><a href=https:www.k8sz.com>ZB</a>"},"prism":{"css":["prism-themes/themes/prism-ghcolors.css"]},"github":{"url":"https://github.com/k8sz"},"editlink":{"label":"编辑本页","multilingual":false,"base":"https://github.com/k8sz"},"splitter":{},"codesnippet":{},"sitemap-general":{"prefix":"https://www.k8sz.com/book/"},"fontsettings":{"theme":"white","family":"sans","size":2},"favicon":{"shortcut":"favicon.ico","bookmark":"favicon.ico"},"lightbox":{"jquery":true},"page-toc-button":{},"back-to-top-button":{},"prism-themes":{},"alerts":{},"github-buttons":{"repo":"k8sz/kubernetes-book","types":["star"],"size":"small"},"copy-code-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"showLevel":true,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-plus":{},"image-captions":{"caption":"图片 - _CAPTION_","variable_name":"_pictures"}},"theme":"default","author":"ZB","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"_pictures":[{"backlink":"concepts/index.html#fig2.1.1","level":"2.1","list_caption":"Figure: Borg架构","alt":"Borg架构","nro":1,"url":"../images/borg.png","index":1,"caption_template":"图片 - _CAPTION_","label":"Borg架构","attributes":{},"skip":false,"key":"2.1.1"},{"backlink":"concepts/index.html#fig2.1.2","level":"2.1","list_caption":"Figure: Kubernetes架构","alt":"Kubernetes架构","nro":2,"url":"../images/architecture.png","index":2,"caption_template":"图片 - _CAPTION_","label":"Kubernetes架构","attributes":{},"skip":false,"key":"2.1.2"},{"backlink":"concepts/index.html#fig2.1.3","level":"2.1","list_caption":"Figure: Kuberentes架构（图片来自于网络）","alt":"Kuberentes架构（图片来自于网络）","nro":3,"url":"../images/kubernetes-high-level-component-archtecture.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"Kuberentes架构（图片来自于网络）","attributes":{},"skip":false,"key":"2.1.3"},{"backlink":"concepts/index.html#fig2.1.4","level":"2.1","list_caption":"Figure: kubernetes整体架构示意图","alt":"kubernetes整体架构示意图","nro":4,"url":"../images/kubernetes-whole-arch.png","index":4,"caption_template":"图片 - _CAPTION_","label":"kubernetes整体架构示意图","attributes":{},"skip":false,"key":"2.1.4"},{"backlink":"concepts/index.html#fig2.1.5","level":"2.1","list_caption":"Figure: Kubernetes master架构示意图","alt":"Kubernetes master架构示意图","nro":5,"url":"../images/kubernetes-master-arch.png","index":5,"caption_template":"图片 - _CAPTION_","label":"Kubernetes master架构示意图","attributes":{},"skip":false,"key":"2.1.5"},{"backlink":"concepts/index.html#fig2.1.6","level":"2.1","list_caption":"Figure: kubernetes node架构示意图","alt":"kubernetes node架构示意图","nro":6,"url":"../images/kubernetes-node-arch.png","index":6,"caption_template":"图片 - _CAPTION_","label":"kubernetes node架构示意图","attributes":{},"skip":false,"key":"2.1.6"},{"backlink":"concepts/index.html#fig2.1.7","level":"2.1","list_caption":"Figure: Kubernetes分层架构示意图","alt":"Kubernetes分层架构示意图","nro":7,"url":"../images/kubernetes-layers-arch.png","index":7,"caption_template":"图片 - _CAPTION_","label":"Kubernetes分层架构示意图","attributes":{},"skip":false,"key":"2.1.7"},{"backlink":"concepts/concepts.html#fig2.1.1.1","level":"2.1.1","list_caption":"Figure: Kubernetes 分层架构示意图","alt":"Kubernetes 分层架构示意图","nro":8,"url":"../images/006tNc79ly1fzniqvmi51j31gq0s0q5u.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetes 分层架构示意图","attributes":{},"skip":false,"key":"2.1.1.1"},{"backlink":"concepts/open-interfaces.html#fig2.1.3.1","level":"2.1.3","list_caption":"Figure: 开放接口","alt":"开放接口","nro":9,"url":"../images/open-interfaces.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"开放接口","attributes":{},"skip":false,"key":"2.1.3.1"},{"backlink":"concepts/cri.html#fig2.1.3.1.1","level":"2.1.3.1","list_caption":"Figure: CRI架构-图片来自kubernetes blog","alt":"CRI架构-图片来自kubernetes blog","nro":10,"url":"../images/cri-architecture.png","index":1,"caption_template":"图片 - _CAPTION_","label":"CRI架构-图片来自kubernetes blog","attributes":{},"skip":false,"key":"2.1.3.1.1"},{"backlink":"concepts/flannel.html#fig2.2.1.1","level":"2.2.1","list_caption":"Figure: flannel网络架构（图片来自openshift）","alt":"flannel网络架构（图片来自openshift）","nro":11,"url":"../images/flannel-networking.png","index":1,"caption_template":"图片 - _CAPTION_","label":"flannel网络架构（图片来自openshift）","attributes":{},"skip":false,"key":"2.2.1.1"},{"backlink":"concepts/calico.html#fig2.2.2.1","level":"2.2.2","list_caption":"Figure: Calico","alt":"Calico","nro":12,"url":"../images/006tNc79gy1fz65bt7ieej30c90bsgn2.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Calico","attributes":{},"skip":false,"key":"2.2.2.1"},{"backlink":"concepts/calico.html#fig2.2.2.2","level":"2.2.2","list_caption":"Figure: CRI架构-图片来自https://www.jianshu.com/p/f0177b84de66","alt":"CRI架构-图片来自https://www.jianshu.com/p/f0177b84de66","nro":13,"url":"../images/calico.png","index":2,"caption_template":"图片 - _CAPTION_","label":"CRI架构-图片来自https://www.jianshu.com/p/f0177b84de66","attributes":{},"skip":false,"key":"2.2.2.2"},{"backlink":"concepts/cilium.html#fig2.2.3.1","level":"2.2.3","list_caption":"Figure: Cilium","alt":"Cilium","nro":14,"url":"../images/006tNbRwly1fwqi98i51ij30sc0j80zn.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Cilium","attributes":{},"skip":false,"key":"2.2.3.1"},{"backlink":"concepts/cilium-concepts.html#fig2.2.3.1.1","level":"2.2.3.1","list_caption":"Figure: Cilium 组件(来自 Cilium 官网)","alt":"Cilium 组件(来自 Cilium 官网)","nro":15,"url":"../images/006tNbRwly1fwztvhg0gmj318z143tdv.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Cilium 组件(来自 Cilium 官网)","attributes":{},"skip":false,"key":"2.2.3.1.1"},{"backlink":"concepts/cilium-concepts.html#fig2.2.3.1.2","level":"2.2.3.1","list_caption":"Figure: Cilium 网络配置策略","alt":"Cilium 网络配置策略","nro":16,"url":"../images/006tNbRwly1fwzreaalj6j30dz0dy3z3.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Cilium 网络配置策略","attributes":{},"skip":false,"key":"2.2.3.1.2"},{"backlink":"concepts/pod-overview.html#fig2.4.1.1","level":"2.4.1","list_caption":"Figure: pod diagram","alt":"pod diagram","nro":17,"url":"../images/pod-overview.png","index":1,"caption_template":"图片 - _CAPTION_","label":"pod diagram","attributes":{},"skip":false,"key":"2.4.1.1"},{"backlink":"concepts/pod.html#fig2.4.2.1","level":"2.4.2","list_caption":"Figure: Pod示意图","alt":"Pod示意图","nro":18,"url":"../images/pod-overview.png","index":1,"caption_template":"图片 - _CAPTION_","label":"Pod示意图","attributes":{},"skip":false,"key":"2.4.2.1"},{"backlink":"concepts/pod.html#fig2.4.2.2","level":"2.4.2","list_caption":"Figure: Pod Cheatsheet","alt":"Pod Cheatsheet","nro":19,"url":"../images/kubernetes-pod-cheatsheet.png","index":2,"caption_template":"图片 - _CAPTION_","label":"Pod Cheatsheet","attributes":{},"skip":false,"key":"2.4.2.2"},{"backlink":"concepts/pause-container.html#fig2.4.4.1","level":"2.4.4","list_caption":"Figure: Pause容器","alt":"Pause容器","nro":20,"url":"../images/pause-container.png","index":1,"caption_template":"图片 - _CAPTION_","label":"Pause容器","attributes":{},"skip":false,"key":"2.4.4.1"},{"backlink":"concepts/pod-lifecycle.html#fig2.4.6.1","level":"2.4.6","list_caption":"Figure: Pod的生命周期示意图（图片来自网络）","alt":"Pod的生命周期示意图（图片来自网络）","nro":21,"url":"../images/kubernetes-pod-life-cycle.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Pod的生命周期示意图（图片来自网络）","attributes":{},"skip":false,"key":"2.4.6.1"},{"backlink":"concepts/label.html#fig2.5.3.1","level":"2.5.3","list_caption":"Figure: label示意图","alt":"label示意图","nro":22,"url":"../images/labels.png","index":1,"caption_template":"图片 - _CAPTION_","label":"label示意图","attributes":{},"skip":false,"key":"2.5.3.1"},{"backlink":"concepts/deployment.html#fig2.6.1.1","level":"2.6.1","list_caption":"Figure: kubernetes deployment cheatsheet","alt":"kubernetes deployment cheatsheet","nro":23,"url":"../images/deployment-cheatsheet.png","index":1,"caption_template":"图片 - _CAPTION_","label":"kubernetes deployment cheatsheet","attributes":{},"skip":false,"key":"2.6.1.1"},{"backlink":"concepts/horizontal-pod-autoscaling.html#fig2.6.7.1","level":"2.6.7","list_caption":"Figure: horizontal-pod-autoscaler","alt":"horizontal-pod-autoscaler","nro":24,"url":"../images/horizontal-pod-autoscaler.png","index":1,"caption_template":"图片 - _CAPTION_","label":"horizontal-pod-autoscaler","attributes":{},"skip":false,"key":"2.6.7.1"},{"backlink":"concepts/service.html#fig2.7.1.1","level":"2.7.1","list_caption":"Figure: userspace代理模式下Service概览图","alt":"userspace代理模式下Service概览图","nro":25,"url":"../images/services-userspace-overview.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"userspace代理模式下Service概览图","attributes":{},"skip":false,"key":"2.7.1.1"},{"backlink":"concepts/service.html#fig2.7.1.2","level":"2.7.1","list_caption":"Figure: iptables代理模式下Service概览图","alt":"iptables代理模式下Service概览图","nro":26,"url":"../images/services-iptables-overview.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"iptables代理模式下Service概览图","attributes":{},"skip":false,"key":"2.7.1.2"},{"backlink":"concepts/service.html#fig2.7.1.3","level":"2.7.1","list_caption":"Figure: ipvs代理模式下Service概览图","alt":"ipvs代理模式下Service概览图","nro":27,"url":"../images/service-ipvs-overview.png","index":3,"caption_template":"图片 - _CAPTION_","label":"ipvs代理模式下Service概览图","attributes":{},"skip":false,"key":"2.7.1.3"},{"backlink":"concepts/service-catalog.html#fig2.10.5.1","level":"2.10.5","list_caption":"Figure: Service Catalog Architecture","alt":"Service Catalog Architecture","nro":28,"url":"../images/service-catalog-architecture.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Service Catalog Architecture","attributes":{},"skip":false,"key":"2.10.5.1"},{"backlink":"concepts/service-catalog.html#fig2.10.5.2","level":"2.10.5","list_caption":"Figure: List Services","alt":"List Services","nro":29,"url":"../images/service-catalog-list.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"List Services","attributes":{},"skip":false,"key":"2.10.5.2"},{"backlink":"concepts/service-catalog.html#fig2.10.5.3","level":"2.10.5","list_caption":"Figure: Provision a Service","alt":"Provision a Service","nro":30,"url":"../images/service-catalog-provision.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"Provision a Service","attributes":{},"skip":false,"key":"2.10.5.3"},{"backlink":"concepts/service-catalog.html#fig2.10.5.4","level":"2.10.5","list_caption":"Figure: Bind to a managed service","alt":"Bind to a managed service","nro":31,"url":"../images/service-catalog-bind.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"Bind to a managed service","attributes":{},"skip":false,"key":"2.10.5.4"},{"backlink":"concepts/service-catalog.html#fig2.10.5.5","level":"2.10.5","list_caption":"Figure: Map connection credentials","alt":"Map connection credentials","nro":32,"url":"../images/service-catalog-map.jpg","index":5,"caption_template":"图片 - _CAPTION_","label":"Map connection credentials","attributes":{},"skip":false,"key":"2.10.5.5"},{"backlink":"guide/using-kubectl.html#fig3.3.2.1","level":"3.3.2","list_caption":"Figure: kubectl cheatsheet","alt":"kubectl cheatsheet","nro":33,"url":"../images/kubernetes-kubectl-cheatsheet.png","index":1,"caption_template":"图片 - _CAPTION_","label":"kubectl cheatsheet","attributes":{},"skip":false,"key":"3.3.2.1"},{"backlink":"guide/using-kubectl.html#fig3.3.2.2","level":"3.3.2","list_caption":"Figure: 增加kubeclt命令的工具（图片来自网络）","alt":"增加kubeclt命令的工具（图片来自网络）","nro":34,"url":"../images/tools-to-supercharge-kubectl.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"增加kubeclt命令的工具（图片来自网络）","attributes":{},"skip":false,"key":"3.3.2.2"},{"backlink":"guide/using-kubectl.html#fig3.3.2.3","level":"3.3.2","list_caption":"Figure: 增强的kubectl命令","alt":"增强的kubectl命令","nro":35,"url":"../images/supercharged-kubectl.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"增强的kubectl命令","attributes":{},"skip":false,"key":"3.3.2.3"},{"backlink":"guide/using-kubectl.html#fig3.3.2.4","level":"3.3.2","list_caption":"Figure: kube-shell页面","alt":"kube-shell页面","nro":36,"url":"../images/kube-shell.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"kube-shell页面","attributes":{},"skip":false,"key":"3.3.2.4"},{"backlink":"guide/ip-masq-agent.html#fig3.4.5.1","level":"3.4.5","list_caption":"Figure: IP伪装代理示意图","alt":"IP伪装代理示意图","nro":37,"url":"../images/ip-masq.png","index":1,"caption_template":"图片 - _CAPTION_","label":"IP伪装代理示意图","attributes":{},"skip":false,"key":"3.4.5.1"},{"backlink":"guide/auth-with-kubeconfig-or-token.html#fig3.4.6.1","level":"3.4.6","list_caption":"Figure: kubeconfig文件","alt":"kubeconfig文件","nro":38,"url":"../images/brand-kubeconfig-yaml.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"kubeconfig文件","attributes":{},"skip":false,"key":"3.4.6.1"},{"backlink":"guide/authentication.html#fig3.4.7.1","level":"3.4.7","list_caption":"Figure: Kubernetes OpenID Connect Flow","alt":"Kubernetes OpenID Connect Flow","nro":39,"url":"../images/kubernetes-oidc-login.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetes OpenID Connect Flow","attributes":{},"skip":false,"key":"3.4.7.1"},{"backlink":"guide/cabin-mobile-dashboard-for-kubernetes.html#fig3.5.6.1","level":"3.5.6","list_caption":"Figure: App Store","alt":"App Store","nro":40,"url":"../images/cabin-kubernetes-mobile-dashboard-1.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"App Store","attributes":{},"skip":false,"key":"3.5.6.1"},{"backlink":"guide/cabin-mobile-dashboard-for-kubernetes.html#fig3.5.6.2","level":"3.5.6","list_caption":"Figure: 在手机上操作Kubernetes集群","alt":"在手机上操作Kubernetes集群","nro":41,"url":"../images/cabin-kubernetes-mobile-dashboard-4.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"在手机上操作Kubernetes集群","attributes":{},"skip":false,"key":"3.5.6.2"},{"backlink":"guide/kubernetes-desktop-client.html#fig3.5.7.1","level":"3.5.7","list_caption":"Figure: Kubernetic客户端","alt":"Kubernetic客户端","nro":42,"url":"../images/kubernetic-desktop-ui.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetic客户端","attributes":{},"skip":false,"key":"3.5.7.1"},{"backlink":"guide/kubernator-kubernetes-ui.html#fig3.5.8.1","level":"3.5.8","list_caption":"Figure: Kubernator catalog页面","alt":"Kubernator catalog页面","nro":43,"url":"../images/kubernator-catalog.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernator catalog页面","attributes":{},"skip":false,"key":"3.5.8.1"},{"backlink":"guide/kubernator-kubernetes-ui.html#fig3.5.8.2","level":"3.5.8","list_caption":"Figure: Kubernator rbac页面","alt":"Kubernator rbac页面","nro":44,"url":"../images/kubernator-rbac.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Kubernator rbac页面","attributes":{},"skip":false,"key":"3.5.8.2"},{"backlink":"guide/deploy-applications-in-kubernetes.html#fig3.6.1.1","level":"3.6.1","list_caption":"Figure: 流程图","alt":"流程图","nro":45,"url":"../images/how-to-use-kubernetes-with-istio.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"流程图","attributes":{},"skip":false,"key":"3.6.1.1"},{"backlink":"guide/deploy-applications-in-kubernetes.html#fig3.6.1.2","level":"3.6.1","list_caption":"Figure: API","alt":"API","nro":46,"url":"../images/k8s-app-monitor-test-api-doc.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"API","attributes":{},"skip":false,"key":"3.6.1.2"},{"backlink":"guide/deploy-applications-in-kubernetes.html#fig3.6.1.3","level":"3.6.1","list_caption":"Figure: wercker构建页面","alt":"wercker构建页面","nro":47,"url":"../images/k8s-app-monitor-agent-wercker.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"wercker构建页面","attributes":{},"skip":false,"key":"3.6.1.3"},{"backlink":"guide/deploy-applications-in-kubernetes.html#fig3.6.1.4","level":"3.6.1","list_caption":"Figure: 图表","alt":"图表","nro":48,"url":"../images/k8s-app-monitor-agent.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"图表","attributes":{},"skip":false,"key":"3.6.1.4"},{"backlink":"guide/deploy-applications-in-kubernetes.html#fig3.6.1.5","level":"3.6.1","list_caption":"Figure: Grafana页面","alt":"Grafana页面","nro":49,"url":"../images/k8s-app-monitor-istio-grafana.png","index":5,"caption_template":"图片 - _CAPTION_","label":"Grafana页面","attributes":{},"skip":false,"key":"3.6.1.5"},{"backlink":"guide/deploy-applications-in-kubernetes.html#fig3.6.1.6","level":"3.6.1","list_caption":"Figure: servicegraph页面","alt":"servicegraph页面","nro":50,"url":"../images/k8s-app-monitor-istio-servicegraph-dotviz.png","index":6,"caption_template":"图片 - _CAPTION_","label":"servicegraph页面","attributes":{},"skip":false,"key":"3.6.1.6"},{"backlink":"guide/deploy-applications-in-kubernetes.html#fig3.6.1.7","level":"3.6.1","list_caption":"Figure: Zipkin页面","alt":"Zipkin页面","nro":51,"url":"../images/k8s-app-monitor-istio-zipkin.png","index":7,"caption_template":"图片 - _CAPTION_","label":"Zipkin页面","attributes":{},"skip":false,"key":"3.6.1.7"},{"backlink":"guide/migrating-hadoop-yarn-to-kubernetes.html#fig3.6.2.1","level":"3.6.2","list_caption":"Figure: 将单体应用迁移到云原生(图片来自DevOpsDay Toronto)","alt":"将单体应用迁移到云原生(图片来自DevOpsDay Toronto)","nro":52,"url":"../images/migrating-monolith-to-kubernetes.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"将单体应用迁移到云原生(图片来自DevOpsDay Toronto)","attributes":{},"skip":false,"key":"3.6.2.1"},{"backlink":"guide/migrating-hadoop-yarn-to-kubernetes.html#fig3.6.2.2","level":"3.6.2","list_caption":"Figure: spark on yarn with kubernetes","alt":"spark on yarn with kubernetes","nro":53,"url":"../images/spark-on-yarn-with-kubernetes.png","index":2,"caption_template":"图片 - _CAPTION_","label":"spark on yarn with kubernetes","attributes":{},"skip":false,"key":"3.6.2.2"},{"backlink":"guide/migrating-hadoop-yarn-to-kubernetes.html#fig3.6.2.3","level":"3.6.2","list_caption":"Figure: Terms","alt":"Terms","nro":54,"url":"../images/terms-in-kubernetes-app-deployment.png","index":3,"caption_template":"图片 - _CAPTION_","label":"Terms","attributes":{},"skip":false,"key":"3.6.2.3"},{"backlink":"guide/migrating-hadoop-yarn-to-kubernetes.html#fig3.6.2.4","level":"3.6.2","list_caption":"Figure: 分解步骤解析","alt":"分解步骤解析","nro":55,"url":"../images/migrating-hadoop-yarn-to-kubernetes.png","index":4,"caption_template":"图片 - _CAPTION_","label":"分解步骤解析","attributes":{},"skip":false,"key":"3.6.2.4"},{"backlink":"practice/node-installation.html#fig4.2.7.1","level":"4.2.7","list_caption":"Figure: nginx欢迎页面","alt":"nginx欢迎页面","nro":56,"url":"../images/kubernetes-installation-test-nginx.png","index":1,"caption_template":"图片 - _CAPTION_","label":"nginx欢迎页面","attributes":{},"skip":false,"key":"4.2.7.1"},{"backlink":"practice/dashboard-addon-installation.html#fig4.2.9.1","level":"4.2.9","list_caption":"Figure: kubernetes dashboard","alt":"kubernetes dashboard","nro":57,"url":"../images/kubernetes-dashboard-raw.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"kubernetes dashboard","attributes":{},"skip":false,"key":"4.2.9.1"},{"backlink":"practice/dashboard-addon-installation.html#fig4.2.9.2","level":"4.2.9","list_caption":"Figure: V1.6.3版本的dashboard界面","alt":"V1.6.3版本的dashboard界面","nro":58,"url":"../images/dashboard-v163.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"V1.6.3版本的dashboard界面","attributes":{},"skip":false,"key":"4.2.9.2"},{"backlink":"practice/dashboard-addon-installation.html#fig4.2.9.3","level":"4.2.9","list_caption":"Figure: pod无法正常启动","alt":"pod无法正常启动","nro":59,"url":"../images/dashboard-addon-installation001.png","index":3,"caption_template":"图片 - _CAPTION_","label":"pod无法正常启动","attributes":{},"skip":false,"key":"4.2.9.3"},{"backlink":"practice/heapster-addon-installation.html#fig4.2.10.1","level":"4.2.10","list_caption":"Figure: dashboard-heapster","alt":"dashboard-heapster","nro":60,"url":"../images/kubernetes-dashboard-with-heapster.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"dashboard-heapster","attributes":{},"skip":false,"key":"4.2.10.1"},{"backlink":"practice/heapster-addon-installation.html#fig4.2.10.2","level":"4.2.10","list_caption":"Figure: grafana","alt":"grafana","nro":61,"url":"../images/kubernetes-heapster-grafana.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"grafana","attributes":{},"skip":false,"key":"4.2.10.2"},{"backlink":"practice/heapster-addon-installation.html#fig4.2.10.3","level":"4.2.10","list_caption":"Figure: kubernetes-influxdb-heapster","alt":"kubernetes-influxdb-heapster","nro":62,"url":"../images/kubernetes-influxdb-heapster.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"kubernetes-influxdb-heapster","attributes":{},"skip":false,"key":"4.2.10.3"},{"backlink":"practice/heapster-addon-installation.html#fig4.2.10.4","level":"4.2.10","list_caption":"Figure: 修改grafana模板","alt":"修改grafana模板","nro":63,"url":"../images/grafana-dashboard-setting.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"修改grafana模板","attributes":{},"skip":false,"key":"4.2.10.4"},{"backlink":"practice/efk-addon-installation.html#fig4.2.11.1","level":"4.2.11","list_caption":"Figure: es-setting","alt":"es-setting","nro":64,"url":"../images/es-setting.png","index":1,"caption_template":"图片 - _CAPTION_","label":"es-setting","attributes":{},"skip":false,"key":"4.2.11.1"},{"backlink":"practice/efk-addon-installation.html#fig4.2.11.2","level":"4.2.11","list_caption":"Figure: es-home","alt":"es-home","nro":65,"url":"../images/kubernetes-efk-kibana.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"es-home","attributes":{},"skip":false,"key":"4.2.11.2"},{"backlink":"practice/traefik-ingress-installation.html#fig4.4.1.1","level":"4.4.1","list_caption":"Figure: kubernetes-dashboard","alt":"kubernetes-dashboard","nro":66,"url":"../images/traefik-dashboard.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"kubernetes-dashboard","attributes":{},"skip":false,"key":"4.4.1.1"},{"backlink":"practice/traefik-ingress-installation.html#fig4.4.1.2","level":"4.4.1","list_caption":"Figure: traefik-nginx","alt":"traefik-nginx","nro":67,"url":"../images/traefik-nginx.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"traefik-nginx","attributes":{},"skip":false,"key":"4.4.1.2"},{"backlink":"practice/traefik-ingress-installation.html#fig4.4.1.3","level":"4.4.1","list_caption":"Figure: traefik-guestbook","alt":"traefik-guestbook","nro":68,"url":"../images/traefik-guestbook.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"traefik-guestbook","attributes":{},"skip":false,"key":"4.4.1.3"},{"backlink":"practice/distributed-load-test.html#fig4.4.2.1","level":"4.4.2","list_caption":"Figure: 使用dashboard来扩容","alt":"使用dashboard来扩容","nro":69,"url":"../images/dashbaord-scale.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"使用dashboard来扩容","attributes":{},"skip":false,"key":"4.4.2.1"},{"backlink":"practice/distributed-load-test.html#fig4.4.2.2","level":"4.4.2","list_caption":"Figure: Traefik的UI","alt":"Traefik的UI","nro":70,"url":"../images/traefik-dashboard-locust.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Traefik的UI","attributes":{},"skip":false,"key":"4.4.2.2"},{"backlink":"practice/distributed-load-test.html#fig4.4.2.3","level":"4.4.2","list_caption":"Figure: Locust启动界面","alt":"Locust启动界面","nro":71,"url":"../images/locust-start-swarming.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"Locust启动界面","attributes":{},"skip":false,"key":"4.4.2.3"},{"backlink":"practice/distributed-load-test.html#fig4.4.2.4","level":"4.4.2","list_caption":"Figure: Dashboard查看页面","alt":"Dashboard查看页面","nro":72,"url":"../images/sample-webapp-rc.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"Dashboard查看页面","attributes":{},"skip":false,"key":"4.4.2.4"},{"backlink":"practice/distributed-load-test.html#fig4.4.2.5","level":"4.4.2","list_caption":"Figure: Locust测试结果页面","alt":"Locust测试结果页面","nro":73,"url":"../images/locust-dashboard.jpg","index":5,"caption_template":"图片 - _CAPTION_","label":"Locust测试结果页面","attributes":{},"skip":false,"key":"4.4.2.5"},{"backlink":"practice/network-and-cluster-perfermance-test.html#fig4.4.3.1","level":"4.4.3","list_caption":"Figure: kubernetes-dashboard","alt":"kubernetes-dashboard","nro":74,"url":"../images/kubenetes-e2e-test.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"kubernetes-dashboard","attributes":{},"skip":false,"key":"4.4.3.1"},{"backlink":"practice/network-and-cluster-perfermance-test.html#fig4.4.3.2","level":"4.4.3","list_caption":"Figure: locust测试页面","alt":"locust测试页面","nro":75,"url":"../images/kubernetes-locust-test.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"locust测试页面","attributes":{},"skip":false,"key":"4.4.3.2"},{"backlink":"practice/edge-node-configuration.html#fig4.4.4.1","level":"4.4.4","list_caption":"Figure: 边缘节点架构","alt":"边缘节点架构","nro":76,"url":"../images/kubernetes-edge-node-architecture.png","index":1,"caption_template":"图片 - _CAPTION_","label":"边缘节点架构","attributes":{},"skip":false,"key":"4.4.4.1"},{"backlink":"practice/edge-node-configuration.html#fig4.4.4.2","level":"4.4.4","list_caption":"Figure: 使用域名来访问Kubernetes中的服务","alt":"使用域名来访问Kubernetes中的服务","nro":77,"url":"../images/accessing-kubernetes-services-with-dns-name.png","index":2,"caption_template":"图片 - _CAPTION_","label":"使用域名来访问Kubernetes中的服务","attributes":{},"skip":false,"key":"4.4.4.2"},{"backlink":"practice/configuring-dns.html#fig4.4.6.1.1","level":"4.4.6.1","list_caption":"Figure: DNS lookup flow","alt":"DNS lookup flow","nro":78,"url":"https://d33wubrfki0l68.cloudfront.net/340889cb80e81dcd19a16bc34697a7907e2b229a/24ad0/docs/tasks/administer-cluster/dns-custom-nameservers/dns.png","index":1,"caption_template":"图片 - _CAPTION_","label":"DNS lookup flow","attributes":{},"skip":false,"key":"4.4.6.1.1"},{"backlink":"practice/master-ha.html#fig4.5.1.1","level":"4.5.1","list_caption":"Figure: Master HA架构图","alt":"Master HA架构图","nro":79,"url":"../images/master-ha.JPG","index":1,"caption_template":"图片 - _CAPTION_","label":"Master HA架构图","attributes":{},"skip":false,"key":"4.5.1.1"},{"backlink":"practice/app-log-collection.html#fig4.5.3.1","level":"4.5.3","list_caption":"Figure: filebeat日志收集架构图","alt":"filebeat日志收集架构图","nro":80,"url":"../images/filebeat-log-collector.png","index":1,"caption_template":"图片 - _CAPTION_","label":"filebeat日志收集架构图","attributes":{},"skip":false,"key":"4.5.3.1"},{"backlink":"practice/app-log-collection.html#fig4.5.3.2","level":"4.5.3","list_caption":"Figure: Kibana页面","alt":"Kibana页面","nro":81,"url":"../images/filebeat-docker-test.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Kibana页面","attributes":{},"skip":false,"key":"4.5.3.2"},{"backlink":"practice/app-log-collection.html#fig4.5.3.3","level":"4.5.3","list_caption":"Figure: filebeat收集的日志详细信息","alt":"filebeat收集的日志详细信息","nro":82,"url":"../images/kubernetes-filebeat-detail.png","index":3,"caption_template":"图片 - _CAPTION_","label":"filebeat收集的日志详细信息","attributes":{},"skip":false,"key":"4.5.3.3"},{"backlink":"practice/monitor.html#fig4.5.5.1","level":"4.5.5","list_caption":"Figure: Kubernetes集群中的监控","alt":"Kubernetes集群中的监控","nro":83,"url":"../images/monitoring-in-kubernetes.png","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetes集群中的监控","attributes":{},"skip":false,"key":"4.5.5.1"},{"backlink":"practice/monitor.html#fig4.5.5.2","level":"4.5.5","list_caption":"Figure: kubernetes的容器命名规则示意图","alt":"kubernetes的容器命名规则示意图","nro":84,"url":"../images/kubernetes-container-naming-rule.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"kubernetes的容器命名规则示意图","attributes":{},"skip":false,"key":"4.5.5.2"},{"backlink":"practice/monitor.html#fig4.5.5.3","level":"4.5.5","list_caption":"Figure: Heapster架构图（改进版）","alt":"Heapster架构图（改进版）","nro":85,"url":"../images/kubernetes-heapster-monitoring.png","index":3,"caption_template":"图片 - _CAPTION_","label":"Heapster架构图（改进版）","attributes":{},"skip":false,"key":"4.5.5.3"},{"backlink":"practice/monitor.html#fig4.5.5.4","level":"4.5.5","list_caption":"Figure: 应用监控架构图","alt":"应用监控架构图","nro":86,"url":"../images/kubernetes-app-monitoring.png","index":4,"caption_template":"图片 - _CAPTION_","label":"应用监控架构图","attributes":{},"skip":false,"key":"4.5.5.4"},{"backlink":"practice/monitor.html#fig4.5.5.5","level":"4.5.5","list_caption":"Figure: 应用拓扑图","alt":"应用拓扑图","nro":87,"url":"../images/weave-scope-service-topology.jpg","index":5,"caption_template":"图片 - _CAPTION_","label":"应用拓扑图","attributes":{},"skip":false,"key":"4.5.5.5"},{"backlink":"practice/data-persistence-problem.html#fig4.5.6.1","level":"4.5.6","list_caption":"Figure: 日志持久化收集解决方案示意图","alt":"日志持久化收集解决方案示意图","nro":88,"url":"../images/log-persistence-logstash.png","index":1,"caption_template":"图片 - _CAPTION_","label":"日志持久化收集解决方案示意图","attributes":{},"skip":false,"key":"4.5.6.1"},{"backlink":"practice/storage-for-containers-using-glusterfs-with-openshift.html#fig4.6.1.3.1","level":"4.6.1.3","list_caption":"Figure: 创建存储","alt":"创建存储","nro":89,"url":"../images/create-gluster-storage.png","index":1,"caption_template":"图片 - _CAPTION_","label":"创建存储","attributes":{},"skip":false,"key":"4.6.1.3.1"},{"backlink":"practice/storage-for-containers-using-glusterfs-with-openshift.html#fig4.6.1.3.2","level":"4.6.1.3","list_caption":"Figure: Screen Shot 2017-03-24 at 11.09.34.png","alt":"Screen Shot 2017-03-24 at 11.09.34.png","nro":90,"url":"https://keithtenzer.files.wordpress.com/2017/03/screen-shot-2017-03-24-at-11-09-341.png?w=440","index":2,"caption_template":"图片 - _CAPTION_","label":"Screen Shot 2017-03-24 at 11.09.34.png","attributes":{},"skip":false,"key":"4.6.1.3.2"},{"backlink":"practice/openebs.html#fig4.6.4.1","level":"4.6.4","list_caption":"Figure: OpenEBS集群数据平面（图片来自https://github.com/openebs/openebs/blob/master/contribute/design/README.md）","alt":"OpenEBS集群数据平面（图片来自https://github.com/openebs/openebs/blob/master/contribute/design/README.md）","nro":91,"url":"../images/OpenEBS-Data-Plane.png","index":1,"caption_template":"图片 - _CAPTION_","label":"OpenEBS集群数据平面（图片来自https://github.com/openebs/openebs/blob/master/contribute/design/README.md）","attributes":{},"skip":false,"key":"4.6.4.1"},{"backlink":"practice/openebs.html#fig4.6.4.2","level":"4.6.4","list_caption":"Figure: OpenEBS集群的控制平面(图片来自https://github.com/openebs/openebs/blob/master/contribute/design/README.md）","alt":"OpenEBS集群的控制平面(图片来自https://github.com/openebs/openebs/blob/master/contribute/design/README.md）","nro":92,"url":"../images/OpenEBS-Control-Plane.png","index":2,"caption_template":"图片 - _CAPTION_","label":"OpenEBS集群的控制平面(图片来自https://github.com/openebs/openebs/blob/master/contribute/design/README.md）","attributes":{},"skip":false,"key":"4.6.4.2"},{"backlink":"practice/using-openebs-for-persistent-storage.html#fig4.6.4.1.1","level":"4.6.4.1","list_caption":"Figure: Kubernetes iSCSI架构","alt":"Kubernetes iSCSI架构","nro":93,"url":"../images/iscsi-on-kubernetes.png","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetes iSCSI架构","attributes":{},"skip":false,"key":"4.6.4.1.1"},{"backlink":"practice/using-heapster-to-get-object-metrics.html#fig4.7.1.1.1","level":"4.7.1.1","list_caption":"Figure: Heapster架构图","alt":"Heapster架构图","nro":94,"url":"../images/heapster-architecture.png","index":1,"caption_template":"图片 - _CAPTION_","label":"Heapster架构图","attributes":{},"skip":false,"key":"4.7.1.1.1"},{"backlink":"practice/prometheus.html#fig4.7.2.1","level":"4.7.2","list_caption":"Figure: Prometheus 架构图","alt":"Prometheus 架构图","nro":95,"url":"../images/006tNbRwly1fwcgsn11fej311j0mjadw.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Prometheus 架构图","attributes":{},"skip":false,"key":"4.7.2.1"},{"backlink":"practice/using-prometheus-to-monitor-kuberentes-cluster.html#fig4.7.2.1.1","level":"4.7.2.1","list_caption":"Figure: Grafana页面","alt":"Grafana页面","nro":96,"url":"../images/kubernetes-prometheus-monitoring.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Grafana页面","attributes":{},"skip":false,"key":"4.7.2.1.1"},{"backlink":"practice/promql.html#fig4.7.2.2.1","level":"4.7.2.2","list_caption":"Figure: Prometheus 的查询页面","alt":"Prometheus 的查询页面","nro":97,"url":"../images/006tNbRwly1fwcl7v28rhj30xl0onadv.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Prometheus 的查询页面","attributes":{},"skip":false,"key":"4.7.2.2.1"},{"backlink":"practice/vistio-visualize-your-istio-mesh.html#fig4.7.3.1","level":"4.7.3","list_caption":"Figure: Vistio的集群级别可视化","alt":"Vistio的集群级别可视化","nro":98,"url":"../images/00704eQkgy1fshft5oxlwj318g0pe0wp.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Vistio的集群级别可视化","attributes":{},"skip":false,"key":"4.7.3.1"},{"backlink":"practice/vistio-visualize-your-istio-mesh.html#fig4.7.3.2","level":"4.7.3","list_caption":"Figure: Prometheus查询","alt":"Prometheus查询","nro":99,"url":"../images/00704eQkgy1fshg0vw25ij318g0jzqjq.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Prometheus查询","attributes":{},"skip":false,"key":"4.7.3.2"},{"backlink":"practice/vistio-visualize-your-istio-mesh.html#fig4.7.3.3","level":"4.7.3","list_caption":"Figure: vistio-api的期望输出","alt":"vistio-api的期望输出","nro":100,"url":"../images/00704eQkgy1fshi61t04oj310q17c0y1.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"vistio-api的期望输出","attributes":{},"skip":false,"key":"4.7.3.3"},{"backlink":"practice/vistio-visualize-your-istio-mesh.html#fig4.7.3.4","level":"4.7.3","list_caption":"Figure: Vistio主页面","alt":"Vistio主页面","nro":101,"url":"../images/00704eQkgy1fshi98duzgj318g0l2406.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"Vistio主页面","attributes":{},"skip":false,"key":"4.7.3.4"},{"backlink":"practice/vistio-visualize-your-istio-mesh.html#fig4.7.3.5","level":"4.7.3","list_caption":"Figure: istio mesh的网络流量","alt":"istio mesh的网络流量","nro":102,"url":"../images/00704eQkgy1fshibdwcj3j318g0p8th1.jpg","index":5,"caption_template":"图片 - _CAPTION_","label":"istio mesh的网络流量","attributes":{},"skip":false,"key":"4.7.3.5"},{"backlink":"practice/vistio-visualize-your-istio-mesh.html#fig4.7.3.6","level":"4.7.3","list_caption":"Figure: 查明网络问题","alt":"查明网络问题","nro":103,"url":"../images/00704eQkgy1fshicc7or1j318g0p8ahr.jpg","index":6,"caption_template":"图片 - _CAPTION_","label":"查明网络问题","attributes":{},"skip":false,"key":"4.7.3.6"},{"backlink":"practice/vistio-visualize-your-istio-mesh.html#fig4.7.3.7","level":"4.7.3","list_caption":"Figure: vistio api的不正确输出","alt":"vistio api的不正确输出","nro":104,"url":"../images/00704eQkgy1fshie7wxkyj30ks0f4myd.jpg","index":7,"caption_template":"图片 - _CAPTION_","label":"vistio api的不正确输出","attributes":{},"skip":false,"key":"4.7.3.7"},{"backlink":"practice/opentracing.html#fig4.8.1.1","level":"4.8.1","list_caption":"Figure: Jaeger UI","alt":"Jaeger UI","nro":105,"url":"../images/006tNbRwly1fwjg48fh7xj31kw0wedrg.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Jaeger UI","attributes":{},"skip":false,"key":"4.8.1.1"},{"backlink":"practice/opentracing.html#fig4.8.1.2","level":"4.8.1","list_caption":"Figure: Chrome Inspector","alt":"Chrome Inspector","nro":106,"url":"../images/006tNbRwly1fwjkfbvfluj30y70hf0y9.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Chrome Inspector","attributes":{},"skip":false,"key":"4.8.1.2"},{"backlink":"practice/helm.html#fig4.9.1.1","level":"4.9.1","list_caption":"Figure: Helm chart源","alt":"Helm chart源","nro":107,"url":"../images/helm-charts-repository.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Helm chart源","attributes":{},"skip":false,"key":"4.9.1.1"},{"backlink":"practice/helm.html#fig4.9.1.2","level":"4.9.1","list_caption":"Figure: TODO应用的Web页面","alt":"TODO应用的Web页面","nro":108,"url":"../images/helm-mean-todo-aholic.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"TODO应用的Web页面","attributes":{},"skip":false,"key":"4.9.1.2"},{"backlink":"practice/create-private-charts-repo.html#fig4.9.2.1","level":"4.9.2","list_caption":"Figure: Helm monocular界面","alt":"Helm monocular界面","nro":109,"url":"../images/helm-monocular-jimmysong.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Helm monocular界面","attributes":{},"skip":false,"key":"4.9.2.1"},{"backlink":"practice/ci-cd.html#fig4.10.1","level":"4.10","list_caption":"Figure: CI/CD with Kubernetes","alt":"CI/CD with Kubernetes","nro":110,"url":"../images/00704eQkgy1fsaxszh01vj30da0j2jvn.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"CI/CD with Kubernetes","attributes":{},"skip":false,"key":"4.10.1"},{"backlink":"practice/ci-cd.html#fig4.10.2","level":"4.10","list_caption":"Figure: Kubernetes改变了应用的基础架构","alt":"Kubernetes改变了应用的基础架构","nro":111,"url":"../images/00704eQkgy1fsayashxz3j31c00w6aed.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Kubernetes改变了应用的基础架构","attributes":{},"skip":false,"key":"4.10.2"},{"backlink":"practice/ci-cd.html#fig4.10.3","level":"4.10","list_caption":"Figure: Kubernetes中的CI/CD","alt":"Kubernetes中的CI/CD","nro":112,"url":"../images/00704eQkgy1fsayfzk3ezj31bu0tkdky.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"Kubernetes中的CI/CD","attributes":{},"skip":false,"key":"4.10.3"},{"backlink":"practice/ci-cd.html#fig4.10.4","level":"4.10","list_caption":"Figure: 云原生工作负载","alt":"云原生工作负载","nro":113,"url":"../images/00704eQkgy1fsayrk6vppj31bu0w0gsd.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"云原生工作负载","attributes":{},"skip":false,"key":"4.10.4"},{"backlink":"practice/ci-cd.html#fig4.10.5","level":"4.10","list_caption":"Figure: 云原生工作负载映射到Kuberentes原语","alt":"云原生工作负载映射到Kuberentes原语","nro":114,"url":"../images/00704eQkgy1fsaytbabxgj31c00w2n4r.jpg","index":5,"caption_template":"图片 - _CAPTION_","label":"云原生工作负载映射到Kuberentes原语","attributes":{},"skip":false,"key":"4.10.5"},{"backlink":"practice/ci-cd.html#fig4.10.6","level":"4.10","list_caption":"Figure: spinnaker中的组件及角色交互关系","alt":"spinnaker中的组件及角色交互关系","nro":115,"url":"../images/00704eQkgy1fsaz2wirz9j31bs0vygsb.jpg","index":6,"caption_template":"图片 - _CAPTION_","label":"spinnaker中的组件及角色交互关系","attributes":{},"skip":false,"key":"4.10.6"},{"backlink":"practice/ci-cd.html#fig4.10.7","level":"4.10","list_caption":"Figure: Spinnaker部署流水线","alt":"Spinnaker部署流水线","nro":116,"url":"../images/00704eQkgy1fsaz3yo227j31c60mgdim.jpg","index":7,"caption_template":"图片 - _CAPTION_","label":"Spinnaker部署流水线","attributes":{},"skip":false,"key":"4.10.7"},{"backlink":"practice/ci-cd.html#fig4.10.8","level":"4.10","list_caption":"Figure: Spinnaker的预发布流水线","alt":"Spinnaker的预发布流水线","nro":117,"url":"../images/00704eQkgy1fsaz50k2atj31bs0mitbn.jpg","index":8,"caption_template":"图片 - _CAPTION_","label":"Spinnaker的预发布流水线","attributes":{},"skip":false,"key":"4.10.8"},{"backlink":"practice/ci-cd.html#fig4.10.9","level":"4.10","list_caption":"Figure: Spinnaker的生产流水线","alt":"Spinnaker的生产流水线","nro":118,"url":"../images/00704eQkgy1fsaz5n5qs9j31by0motbm.jpg","index":9,"caption_template":"图片 - _CAPTION_","label":"Spinnaker的生产流水线","attributes":{},"skip":false,"key":"4.10.9"},{"backlink":"practice/ci-cd.html#fig4.10.10","level":"4.10","list_caption":"Figure: 可观察性","alt":"可观察性","nro":119,"url":"../images/00704eQkgy1fsazabn0b9j31by0w6791.jpg","index":10,"caption_template":"图片 - _CAPTION_","label":"可观察性","attributes":{},"skip":false,"key":"4.10.10"},{"backlink":"practice/ci-cd.html#fig4.10.11","level":"4.10","list_caption":"Figure: Prometheus生态系统中的组件","alt":"Prometheus生态系统中的组件","nro":120,"url":"../images/00704eQkgy1fsazcclee6j31c20w6n5y.jpg","index":11,"caption_template":"图片 - _CAPTION_","label":"Prometheus生态系统中的组件","attributes":{},"skip":false,"key":"4.10.11"},{"backlink":"practice/jenkins-ci-cd.html#fig4.10.1.1","level":"4.10.1","list_caption":"Figure: 基于Jenkins的持续集成与发布","alt":"基于Jenkins的持续集成与发布","nro":121,"url":"../images/kubernetes-jenkins-ci-cd.png","index":1,"caption_template":"图片 - _CAPTION_","label":"基于Jenkins的持续集成与发布","attributes":{},"skip":false,"key":"4.10.1.1"},{"backlink":"practice/drone-ci-cd.html#fig4.10.2.1","level":"4.10.2","list_caption":"Figure: OAuth注册","alt":"OAuth注册","nro":122,"url":"../images/github-oauth-register.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"OAuth注册","attributes":{},"skip":false,"key":"4.10.2.1"},{"backlink":"practice/drone-ci-cd.html#fig4.10.2.2","level":"4.10.2","list_caption":"Figure: OAuth key","alt":"OAuth key","nro":123,"url":"../images/github-oauth-drone-key.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"OAuth key","attributes":{},"skip":false,"key":"4.10.2.2"},{"backlink":"practice/drone-ci-cd.html#fig4.10.2.3","level":"4.10.2","list_caption":"Figure: Drone登陆界面","alt":"Drone登陆界面","nro":124,"url":"../images/drone-login-github.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"Drone登陆界面","attributes":{},"skip":false,"key":"4.10.2.3"},{"backlink":"practice/drone-ci-cd.html#fig4.10.2.4","level":"4.10.2","list_caption":"Figure: Github启用repo设置","alt":"Github启用repo设置","nro":125,"url":"../images/drone-github-active.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"Github启用repo设置","attributes":{},"skip":false,"key":"4.10.2.4"},{"backlink":"practice/drone-ci-cd.html#fig4.10.2.5","level":"4.10.2","list_caption":"Figure: Github单个repo设置","alt":"Github单个repo设置","nro":126,"url":"../images/drone-github-repo-setting.jpg","index":5,"caption_template":"图片 - _CAPTION_","label":"Github单个repo设置","attributes":{},"skip":false,"key":"4.10.2.5"},{"backlink":"practice/manually-upgrade.html#fig4.11.1.1","level":"4.11.1","list_caption":"Figure: Kubernetes零宕机时间升级建议","alt":"Kubernetes零宕机时间升级建议","nro":127,"url":"../images/zero-downtime-kubernetes-upgrade-tips.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetes零宕机时间升级建议","attributes":{},"skip":false,"key":"4.11.1.1"},{"backlink":"practice/manually-upgrade.html#fig4.11.1.2","level":"4.11.1","list_caption":"Figure: Kuberentes API对象的版本演进","alt":"Kuberentes API对象的版本演进","nro":128,"url":"../images/kubernetes-apversions-changes.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Kuberentes API对象的版本演进","attributes":{},"skip":false,"key":"4.11.1.2"},{"backlink":"practice/dashboard-upgrade.html#fig4.11.2.1","level":"4.11.2","list_caption":"Figure: 登陆界面","alt":"登陆界面","nro":129,"url":"../images/kubernetes-dashboard-1.7.1-login.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"登陆界面","attributes":{},"skip":false,"key":"4.11.2.1"},{"backlink":"practice/dashboard-upgrade.html#fig4.11.2.2","level":"4.11.2","list_caption":"Figure: Dashboard首页","alt":"Dashboard首页","nro":130,"url":"../images/kubernetes-dashboard-1.7.1-default-page.jpg","index":2,"caption_template":"图片 - _CAPTION_","label":"Dashboard首页","attributes":{},"skip":false,"key":"4.11.2.2"},{"backlink":"practice/dashboard-upgrade.html#fig4.11.2.3","level":"4.11.2","list_caption":"Figure: Dashboard用户空间页面","alt":"Dashboard用户空间页面","nro":131,"url":"../images/kubernetes-dashboard-1.7.1-brand.jpg","index":3,"caption_template":"图片 - _CAPTION_","label":"Dashboard用户空间页面","attributes":{},"skip":false,"key":"4.11.2.3"},{"backlink":"practice/dashboard-upgrade.html#fig4.11.2.4","level":"4.11.2","list_caption":"Figure: kubeconfig文件","alt":"kubeconfig文件","nro":132,"url":"../images/brand-kubeconfig-yaml.jpg","index":4,"caption_template":"图片 - _CAPTION_","label":"kubeconfig文件","attributes":{},"skip":false,"key":"4.11.2.4"},{"backlink":"develop/sigs-and-working-group.html#fig5.2.1","level":"5.2","list_caption":"Figure: Kubernetes SIG","alt":"Kubernetes SIG","nro":133,"url":"../images/kubernetes-sigs.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetes SIG","attributes":{},"skip":false,"key":"5.2.1"},{"backlink":"develop/testing.html#fig5.4.1","level":"5.4","list_caption":"Figure: test-infra架构图（图片来自官方GitHub）","alt":"test-infra架构图（图片来自官方GitHub）","nro":134,"url":"../images/kubernetes-test-architecture.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"test-infra架构图（图片来自官方GitHub）","attributes":{},"skip":false,"key":"5.4.1"},{"backlink":"develop/client-go-sample.html#fig5.5.1","level":"5.5","list_caption":"Figure: 使用kubernetes dashboard进行故障排查","alt":"使用kubernetes dashboard进行故障排查","nro":135,"url":"../images/kubernetes-client-go-sample-update.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"使用kubernetes dashboard进行故障排查","attributes":{},"skip":false,"key":"5.5.1"},{"backlink":"appendix/material-share.html#fig6.3.1","level":"6.3","list_caption":"Figure: Kubernetes 资源图标示例","alt":"Kubernetes 资源图标示例","nro":136,"url":"../images/006tNc79ly1fzmnolp5ghj30z90u0gwf.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"Kubernetes 资源图标示例","attributes":{},"skip":false,"key":"6.3.1"},{"backlink":"appendix/issues.html#fig6.6.1","level":"6.6","list_caption":"Figure: pvc-storage-limit","alt":"pvc-storage-limit","nro":137,"url":"../images/pvc-storage-limit.jpg","index":1,"caption_template":"图片 - _CAPTION_","label":"pvc-storage-limit","attributes":{},"skip":false,"key":"6.6.1"}]},"title":"Kubernetes","language":"zh-hans","links":{"sidebar":{}},"gitbook":"*","description":"Kubernetes"},"file":{"path":"practice/storage-for-containers-using-glusterfs-with-openshift.md","mtime":"2019-08-28T09:31:53.346Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-10-30T02:14:03.608Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/jquery.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lightbox/lightbox.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-alerts/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

